<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 Введение | Основы анализа данных</title>
  <meta name="description" content="2 Введение | Основы анализа данных" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="2 Введение | Основы анализа данных" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 Введение | Основы анализа данных" />
  
  
  

<meta name="author" content="Г. Мороз" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="трансформация-данных-с-dplyr-и-tidyr.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="libs/pagedtable-1.1/js/pagedtable.js"></script>
<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<script src="libs/viz-1.8.2/viz.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/grViz-binding-1.0.6.1/grViz.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Основы анализа данных</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Требования</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#домашние-работы"><i class="fa fa-check"></i><b>1.1</b> Домашние работы</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Введение</a><ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#наука-о-данных"><i class="fa fa-check"></i><b>2.1</b> Наука о данных</a></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#не-r-единым"><i class="fa fa-check"></i><b>2.2</b> Не R единым</a></li>
<li class="chapter" data-level="2.3" data-path="intro.html"><a href="intro.html#основные-этапы-исследования"><i class="fa fa-check"></i><b>2.3</b> Основные этапы исследования</a></li>
<li class="chapter" data-level="2.4" data-path="intro.html"><a href="intro.html#введение-в-rstudio"><i class="fa fa-check"></i><b>2.4</b> Введение в RStudio</a></li>
<li class="chapter" data-level="2.5" data-path="intro.html"><a href="intro.html#r-как-калькулятор"><i class="fa fa-check"></i><b>2.5</b> R как калькулятор</a></li>
<li class="chapter" data-level="2.6" data-path="intro.html"><a href="intro.html#комментарии"><i class="fa fa-check"></i><b>2.6</b> Комментарии</a></li>
<li class="chapter" data-level="2.7" data-path="intro.html"><a href="intro.html#функции"><i class="fa fa-check"></i><b>2.7</b> Функции</a></li>
<li class="chapter" data-level="2.8" data-path="intro.html"><a href="intro.html#переменные"><i class="fa fa-check"></i><b>2.8</b> Переменные</a><ul>
<li class="chapter" data-level="2.8.1" data-path="intro.html"><a href="intro.html#сравнение-переменных"><i class="fa fa-check"></i><b>2.8.1</b> Сравнение переменных</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="intro.html"><a href="intro.html#вектор"><i class="fa fa-check"></i><b>2.9</b> Вектор</a><ul>
<li class="chapter" data-level="2.9.1" data-path="intro.html"><a href="intro.html#приведение-типов"><i class="fa fa-check"></i><b>2.9.1</b> Приведение типов</a></li>
<li class="chapter" data-level="2.9.2" data-path="intro.html"><a href="intro.html#операции-с-векторами-и-векторизованные-операции"><i class="fa fa-check"></i><b>2.9.2</b> Операции с векторами и векторизованные операции</a></li>
<li class="chapter" data-level="2.9.3" data-path="intro.html"><a href="intro.html#индексирование-вектора"><i class="fa fa-check"></i><b>2.9.3</b> Индексирование вектора</a></li>
<li class="chapter" data-level="2.9.4" data-path="intro.html"><a href="intro.html#пропущенные-значения"><i class="fa fa-check"></i><b>2.9.4</b> Пропущенные значения</a></li>
</ul></li>
<li class="chapter" data-level="2.10" data-path="intro.html"><a href="intro.html#пакеты"><i class="fa fa-check"></i><b>2.10</b> Пакеты</a></li>
<li class="chapter" data-level="2.11" data-path="intro.html"><a href="intro.html#датафрейм-и-тиббл"><i class="fa fa-check"></i><b>2.11</b> Датафрейм и тиббл</a><ul>
<li class="chapter" data-level="2.11.1" data-path="intro.html"><a href="intro.html#вызов-элементов-датафрейма"><i class="fa fa-check"></i><b>2.11.1</b> Вызов элементов датафрейма</a></li>
</ul></li>
<li class="chapter" data-level="2.12" data-path="intro.html"><a href="intro.html#импорт-данных"><i class="fa fa-check"></i><b>2.12</b> Импорт данных</a><ul>
<li class="chapter" data-level="2.12.1" data-path="intro.html"><a href="intro.html#csv-файлы"><i class="fa fa-check"></i><b>2.12.1</b> <code>.csv</code> файлы</a></li>
<li class="chapter" data-level="2.12.2" data-path="intro.html"><a href="intro.html#файлы-.xls-и-.xlsx"><i class="fa fa-check"></i><b>2.12.2</b> файлы <code>.xls</code> и <code>.xlsx</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="трансформация-данных-с-dplyr-и-tidyr.html"><a href="трансформация-данных-с-dplyr-и-tidyr.html"><i class="fa fa-check"></i><b>3</b> Трансформация данных с <code>dplyr</code> и <code>tidyr</code></a><ul>
<li class="chapter" data-level="3.1" data-path="трансформация-данных-с-dplyr-и-tidyr.html"><a href="трансформация-данных-с-dplyr-и-tidyr.html#данные"><i class="fa fa-check"></i><b>3.1</b> Данные</a><ul>
<li class="chapter" data-level="3.1.1" data-path="трансформация-данных-с-dplyr-и-tidyr.html"><a href="трансформация-данных-с-dplyr-и-tidyr.html#датасет-с-опечатками"><i class="fa fa-check"></i><b>3.1.1</b> Датасет с опечатками</a></li>
<li class="chapter" data-level="3.1.2" data-path="трансформация-данных-с-dplyr-и-tidyr.html"><a href="трансформация-данных-с-dplyr-и-tidyr.html#diamonds"><i class="fa fa-check"></i><b>3.1.2</b> <code>diamonds</code></a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="трансформация-данных-с-dplyr-и-tidyr.html"><a href="трансформация-данных-с-dplyr-и-tidyr.html#dplyr"><i class="fa fa-check"></i><b>3.2</b> <code>dplyr</code></a><ul>
<li class="chapter" data-level="3.2.1" data-path="трансформация-данных-с-dplyr-и-tidyr.html"><a href="трансформация-данных-с-dplyr-и-tidyr.html#filter"><i class="fa fa-check"></i><b>3.2.1</b> <code>filter()</code></a></li>
<li class="chapter" data-level="3.2.2" data-path="трансформация-данных-с-dplyr-и-tidyr.html"><a href="трансформация-данных-с-dplyr-и-tidyr.html#slice"><i class="fa fa-check"></i><b>3.2.2</b> <code>slice()</code></a></li>
<li class="chapter" data-level="3.2.3" data-path="трансформация-данных-с-dplyr-и-tidyr.html"><a href="трансформация-данных-с-dplyr-и-tidyr.html#select"><i class="fa fa-check"></i><b>3.2.3</b> <code>select()</code></a></li>
<li class="chapter" data-level="3.2.4" data-path="трансформация-данных-с-dplyr-и-tidyr.html"><a href="трансформация-данных-с-dplyr-и-tidyr.html#arrange"><i class="fa fa-check"></i><b>3.2.4</b> <code>arrange()</code></a></li>
<li class="chapter" data-level="3.2.5" data-path="трансформация-данных-с-dplyr-и-tidyr.html"><a href="трансформация-данных-с-dplyr-и-tidyr.html#distinct"><i class="fa fa-check"></i><b>3.2.5</b> <code>distinct()</code></a></li>
<li class="chapter" data-level="3.2.6" data-path="трансформация-данных-с-dplyr-и-tidyr.html"><a href="трансформация-данных-с-dplyr-и-tidyr.html#mutate"><i class="fa fa-check"></i><b>3.2.6</b> <code>mutate()</code></a></li>
<li class="chapter" data-level="3.2.7" data-path="трансформация-данных-с-dplyr-и-tidyr.html"><a href="трансформация-данных-с-dplyr-и-tidyr.html#group_by...-summarise..."><i class="fa fa-check"></i><b>3.2.7</b> <code>group_by(...) %&gt;% summarise(...)</code></a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="трансформация-данных-с-dplyr-и-tidyr.html"><a href="трансформация-данных-с-dplyr-и-tidyr.html#объединение-датафреймов"><i class="fa fa-check"></i><b>3.3</b> Объединение датафреймов</a><ul>
<li class="chapter" data-level="3.3.1" data-path="трансформация-данных-с-dplyr-и-tidyr.html"><a href="трансформация-данных-с-dplyr-и-tidyr.html#bind_..."><i class="fa fa-check"></i><b>3.3.1</b> <code>bind_...</code></a></li>
<li class="chapter" data-level="3.3.2" data-path="трансформация-данных-с-dplyr-и-tidyr.html"><a href="трансформация-данных-с-dplyr-и-tidyr.html#join"><i class="fa fa-check"></i><b>3.3.2</b> <code>.._join()</code></a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="трансформация-данных-с-dplyr-и-tidyr.html"><a href="трансформация-данных-с-dplyr-и-tidyr.html#пакет-tidyr"><i class="fa fa-check"></i><b>3.4</b> Пакет <code>tidyr</code></a><ul>
<li class="chapter" data-level="3.4.1" data-path="трансформация-данных-с-dplyr-и-tidyr.html"><a href="трансформация-данных-с-dplyr-и-tidyr.html#концепция-tidy-data"><i class="fa fa-check"></i><b>3.4.1</b> Концепция <em>tidy data</em></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="ggplot2.html"><a href="ggplot2.html"><i class="fa fa-check"></i><b>4</b> Data visualisation: <code>ggplot2</code></a><ul>
<li class="chapter" data-level="4.1" data-path="ggplot2.html"><a href="ggplot2.html#why-visualising-data"><i class="fa fa-check"></i><b>4.1</b> Why visualising data?</a><ul>
<li class="chapter" data-level="4.1.1" data-path="ggplot2.html"><a href="ggplot2.html#the-anscombes-quartet"><i class="fa fa-check"></i><b>4.1.1</b> The Anscombe’s Quartet</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Основы анализа данных</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="intro" class="section level1">
<h1><span class="header-section-number">2</span> Введение</h1>
<div id="наука-о-данных" class="section level2">
<h2><span class="header-section-number">2.1</span> Наука о данных</h2>
<p>Наука о данных — это новая область знаний, которая активно развивается в последнее время. Она находиться на пересечении компьютерных наук, статистики и математики, и трудно сказать, действительно ли это наука. При этом это движение развивается в самых разных научных направлениях, иногда даже оформляясь в отдельную отрасль:</p>
<ul>
<li>биоинформатика</li>
<li>вычислительная криминалистика</li>
<li>цифровые гуманитарные исследования</li>
<li>датажурналистика</li>
<li>…</li>
</ul>
<p>Все больше книг “Data Science for …”:</p>
<ul>
<li>psychologists <span class="citation">(Hansjörg <a href="#ref-hansjoerg19" role="doc-biblioref">2019</a>)</span></li>
<li>immunologists <span class="citation">(Thomas and Pallett <a href="#ref-thomas19" role="doc-biblioref">2019</a>)</span></li>
<li>business <span class="citation">(Provost and Fawcett <a href="#ref-provost13" role="doc-biblioref">2013</a>)</span></li>
<li>public policy <span class="citation">(Brooks and Cooper <a href="#ref-brooks13" role="doc-biblioref">2013</a>)</span></li>
<li>fraud detection <span class="citation">(Baesens, Van Vlasselaer, and Verbeke <a href="#ref-baesens15" role="doc-biblioref">2015</a>)</span></li>
<li>…</li>
</ul>
<p>Среди умений датасаентистов можно перечислить следующие:</p>
<ul>
<li>сбор и обработка данных</li>
<li>трансформация данных</li>
<li>визуализация данных</li>
<li>статистическое моделирование данных</li>
<li>представление полученных результатов</li>
<li>организация всей работы <strong>воспроизводимым способом</strong></li>
</ul>
</div>
<div id="не-r-единым" class="section level2">
<h2><span class="header-section-number">2.2</span> Не R единым</h2>
<p>R <span class="citation">(R Core Team <a href="#ref-r19" role="doc-biblioref">2019</a>)</span> — это один из популярных языков для анализа данных. Однако у него вполне есть и альтернативы:</p>
<ul>
<li>Python <span class="citation">(VanderPlas <a href="#ref-vanderplas16" role="doc-biblioref">2016</a>; Grus <a href="#ref-grus19" role="doc-biblioref">2019</a>)</span></li>
<li>Julia <span class="citation">(Bezanson et al. <a href="#ref-bezanson17" role="doc-biblioref">2017</a>)</span></li>
<li>bash <span class="citation">(Janssens <a href="#ref-janssens14" role="doc-biblioref">2014</a>)</span></li>
<li>java <span class="citation">(Brzustowicz <a href="#ref-brzustowicz17" role="doc-biblioref">2017</a>)</span></li>
<li>…</li>
</ul>
<p>Кроме того ответы на любые проблемы можно найти в…</p>
<ul>
<li>R for data science <span class="citation">(Wickham <a href="#ref-wickham16" role="doc-biblioref">2016</a>)</span>, <a href="https://r4ds.had.co.nz/">онлайн</a></li>
<li><a href="https://community.rstudio.com/">R community</a></li>
<li><a href="https://stackoverflow.com">stackoverflow</a></li>
<li><a href="https://t.me/rlang_ru">рускоязычный телеграм-канал</a> (но там есть правила по задаванию вопросов)</li>
<li><a href="https://t.me/rlang_feed">телеграм-канал, где собираются все новости по R</a></li>
<li>любой поисковик</li>
<li>…</li>
</ul>
</div>
<div id="основные-этапы-исследования" class="section level2">
<h2><span class="header-section-number">2.3</span> Основные этапы исследования</h2>
<ul>
<li>формулировка гипотез(ы)</li>
<li>выбор зависимой и независимых переменных</li>
<li>сбор данных</li>
<li>работа с данными, которую можно представить следующей схемой:
<div id="htmlwidget-2b3de76fd9f6ac0a93db" style="width:672px;height:480px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-2b3de76fd9f6ac0a93db">{"x":{"diagram":"digraph {\n\ngraph [compound = true, fillcolor = red, layout = dot]\nnode [shape = rectangle]\n\nимпорт; трансформация; визуализация; моделирование; представление\n\nsubgraph cluster0 {\n  трансформация -> визуализация -> моделирование -> трансформация\n  }\n\nимпорт -> трансформация [lhead = cluster0]\nмоделирование -> представление  [ltail = cluster0]\n\n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script></li>
</ul>
<p>При анализе данных бывают разные соблазны, с которыми нужно бороться:</p>
<ul>
<li><strong>Cherry Picking</strong> — выбор только тех данных, которые удовлетворяют гипотезе.</li>
<li><strong>Data Dredging</strong> — проведение множества тестов, пока не появится статистически значимый результат.</li>
<li><strong>Систематическая ошибка выжившего</strong> — анализ только одной группы объектов (выжившим), так как данных по другой группе (погибшим) данных нет.</li>
<li><strong>Ложная корреляция</strong> — наличие высокой корреляции между переменными не гарантирует, что между ними есть причино-следственная связь.</li>
<li><strong>Неуравновешанная выборка</strong> — если выборка неуравновешена, она перестает представлять генеральную совокупность, что может исказить выводы.</li>
</ul>
<p>Чтобы проиллюстрировать этапы исследования давайте возьмем данные из <a href="https://docs.google.com/forms/d/e/1FAIpQLSdJWr27JJGi0xSoBZV-xEmwLwlclpdLDtkU5mWUncMv7O6vAg/viewform">опрос</a>, который вы сейчас пройдете.</p>
</div>
<div id="введение-в-rstudio" class="section level2">
<h2><span class="header-section-number">2.4</span> Введение в RStudio</h2>
<p>R — это язык программироваия. RStudio — наиболее популярный IDE (Integrated Development Environment) для R.</p>
<p>Когда вы откроете RStudio первый раз, то увидеть что-то такое:</p>
<p><img src="images/01.01.rstudio.png" /></p>
<p>Если нажать наверху на кнопку <img src="images/01.02.rstudio_button.png" />, то можно будет увидеть все четыре окна:</p>
<p><img src="images/01.03.rstudio.png" /></p>
</div>
<div id="r-как-калькулятор" class="section level2">
<h2><span class="header-section-number">2.5</span> R как калькулятор</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="intro.html#cb1-1"></a><span class="dv">2</span><span class="op">+</span><span class="dv">9</span></span></code></pre></div>
<pre><code>## [1] 11</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="intro.html#cb3-1"></a><span class="dv">50</span><span class="op">*</span>(<span class="dv">9-20</span>)</span></code></pre></div>
<pre><code>## [1] -550</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="intro.html#cb5-1"></a><span class="dv">3</span><span class="op">^</span><span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] 27</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="intro.html#cb7-1"></a><span class="dv">9</span><span class="op">^</span><span class="fl">0.5</span></span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="intro.html#cb9-1"></a><span class="dv">9</span><span class="fl">+0.5</span></span></code></pre></div>
<pre><code>## [1] 9.5</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="intro.html#cb11-1"></a><span class="dv">9</span><span class="fl">+.5</span></span></code></pre></div>
<pre><code>## [1] 9.5</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="intro.html#cb13-1"></a>pi</span></code></pre></div>
<pre><code>## [1] 3.141593</code></pre>
<p>Остаток от деления:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="intro.html#cb15-1"></a><span class="dv">10</span> <span class="op">%%</span><span class="st"> </span><span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="rmdtask">
<p>
Теперь вы готовы решит ваше первое выражение (результат округлите до 3 знаков после запятой):
</p>
</div>
<p><span class="math display">\[\frac{\pi+2}{2^{3-\pi}}\]</span></p>
<form name="form_79712" onsubmit="return validate_form_79712()" method="post">
<input type="text" name="answer_79712"><br><input type="submit" value="check">
</form>
<p id="result_79712">
</p>
<script> function validate_form_79712() {var x, text; var x = document.forms["form_79712"]["answer_79712"].value;if (x == "5.672"){text = 'Correct';} else {text = 'I have a different answer';} document.getElementById('result_79712').innerHTML = text; return false;} </script>
</div>
<div id="комментарии" class="section level2">
<h2><span class="header-section-number">2.6</span> Комментарии</h2>
<p>Любой текст после знака <code>#</code> на той же строчке не исполняется</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="intro.html#cb17-1"></a><span class="dv">2</span><span class="op">+</span><span class="dv">2</span> <span class="co"># это четыре</span></span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="intro.html#cb19-1"></a><span class="co"># можно сюда написать комментарий</span></span>
<span id="cb19-2"><a href="intro.html#cb19-2"></a><span class="dv">3</span><span class="op">+</span><span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] 6</code></pre>
</div>
<div id="функции" class="section level2">
<h2><span class="header-section-number">2.7</span> Функции</h2>
<p>Самая важная часть R — функции. Вот некоторые из них:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="intro.html#cb21-1"></a><span class="kw">sqrt</span>(<span class="dv">4</span>)</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="intro.html#cb23-1"></a><span class="kw">abs</span>(<span class="op">-</span><span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="intro.html#cb25-1"></a><span class="kw">sin</span>(pi<span class="op">/</span><span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="intro.html#cb27-1"></a><span class="kw">cos</span>(pi)</span></code></pre></div>
<pre><code>## [1] -1</code></pre>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="intro.html#cb29-1"></a><span class="kw">sum</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">9</span>)</span></code></pre></div>
<pre><code>## [1] 14</code></pre>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="intro.html#cb31-1"></a><span class="kw">prod</span>(<span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">9</span>)</span></code></pre></div>
<pre><code>## [1] 135</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="intro.html#cb33-1"></a><span class="kw">sin</span>(<span class="kw">cos</span>(pi))</span></code></pre></div>
<pre><code>## [1] -0.841471</code></pre>
<p>У каждой функции есть имя и аргументы (от нуля и вверх). Все аргументы перечисляются в круглых скобках, и разделены запятой:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="intro.html#cb35-1"></a><span class="kw">round</span>(pi, <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 3.14</code></pre>
<p>Каждый аргумент функции имеет имя и порядковый номер. Если вы используете аргументы функции, вы можете помещать их в любом порядке. Если имена аргументов функции не названы, то их следует перечислять в соответствии с порядковым номером.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="intro.html#cb37-1"></a><span class="kw">round</span>(<span class="dt">x =</span> pi, <span class="dt">digits =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 3.14</code></pre>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="intro.html#cb39-1"></a><span class="kw">round</span>(<span class="dt">digits =</span> <span class="dv">2</span>, <span class="dt">x =</span> pi)</span></code></pre></div>
<pre><code>## [1] 3.14</code></pre>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="intro.html#cb41-1"></a><span class="kw">round</span>(<span class="dt">x =</span> pi, <span class="dt">d =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 3.14</code></pre>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="intro.html#cb43-1"></a><span class="kw">round</span>(<span class="dt">d =</span> <span class="dv">2</span>, <span class="dt">x =</span> pi)</span></code></pre></div>
<pre><code>## [1] 3.14</code></pre>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="intro.html#cb45-1"></a><span class="kw">round</span>(pi, <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 3.14</code></pre>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="intro.html#cb47-1"></a><span class="kw">round</span>(<span class="dv">2</span>, pi) <span class="co"># это не то же самое, что на предыдущих строчках!</span></span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>Существуют функции без аргументов, но с ними все равно нужно использовать скобки:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="intro.html#cb49-1"></a><span class="kw">Sys.Date</span>() <span class="co"># correct</span></span></code></pre></div>
<pre><code>## [1] &quot;2020-09-19&quot;</code></pre>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="intro.html#cb51-1"></a>Sys.Date <span class="co"># wrong</span></span></code></pre></div>
<pre><code>## function () 
## as.Date(as.POSIXlt(Sys.time()))
## &lt;bytecode: 0x5826bb2e5780&gt;
## &lt;environment: namespace:base&gt;</code></pre>
<p>Все функции в R имеют документацию. Ее можно увидеть, если поставить вопросительный знак перед именем функции:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="intro.html#cb53-1"></a>?Sys.Date</span></code></pre></div>
<div class="rmdtask">
<p>
Исследуйте следующую функцию <code>log()</code> и посчитайте следующий логарифм:
</p>
</div>
<p><span class="math display">\[\log_3(3486784401)\]</span></p>
<form name="form_98454" onsubmit="return validate_form_98454()" method="post">
<input type="text" name="answer_98454"><br><input type="submit" value="check">
</form>
<p id="result_98454">
</p>
<script> function validate_form_98454() {var x, text; var x = document.forms["form_98454"]["answer_98454"].value;if (x == "20"){text = 'Correct';} else {text = 'I have a different answer';} document.getElementById('result_98454').innerHTML = text; return false;} </script>
</div>
<div id="переменные" class="section level2">
<h2><span class="header-section-number">2.8</span> Переменные</h2>
<p>Все в R можно хранить в переменной:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="intro.html#cb54-1"></a>x &lt;-<span class="st"> </span><span class="dv">5</span> <span class="op">+</span><span class="st"> </span><span class="dv">6</span></span></code></pre></div>
<p><img src="images/01.04.variable.png" /></p>
<p>В результате работы предыдущей команды, нет никокого результата в консоли, однако новая переменная <em>x</em> окне окружения. Теперь можно использовать эту новую переменную:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="intro.html#cb55-1"></a>x <span class="op">+</span><span class="st"> </span>x</span></code></pre></div>
<pre><code>## [1] 22</code></pre>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="intro.html#cb57-1"></a><span class="kw">sum</span>(x, x, <span class="dv">7</span>)</span></code></pre></div>
<pre><code>## [1] 29</code></pre>
<p>Все эти операции не изменяют значения переменной <em>x</em>. Чтобы изменить значения, нужно сделать новое приписывание:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="intro.html#cb59-1"></a>x &lt;-<span class="st"> </span><span class="dv">5</span> <span class="op">+</span><span class="st"> </span><span class="dv">6</span> <span class="op">+</span><span class="st"> </span><span class="dv">7</span></span></code></pre></div>
<p>Существуют горячие клавиши для создания <code>&lt;-</code> в RStudio: <code>Alt -</code>.</p>
<p>Для приписывания значения можно использовать и знак <code>=</code>, однако рекомендуется все же использовать <code>&lt;-</code> для приписывания и знак <code>=</code> для перечисления аргументов функции.</p>
<p>Чтобы удалить переменную можно использовать функцию <code>rm()</code>:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="intro.html#cb60-1"></a><span class="kw">rm</span>(x)</span>
<span id="cb60-2"><a href="intro.html#cb60-2"></a>x</span></code></pre></div>
<pre><code>## Error in eval(expr, envir, enclos): object &#39;x&#39; not found</code></pre>
<p>Переменные бывают разного типа, вот основные:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="intro.html#cb62-1"></a><span class="kw">typeof</span>(<span class="fl">4.3</span>) <span class="co"># числа</span></span></code></pre></div>
<pre><code>## [1] &quot;double&quot;</code></pre>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="intro.html#cb64-1"></a><span class="kw">typeof</span>(<span class="st">&quot;тро-ло-ло&quot;</span>) <span class="co"># строки</span></span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="intro.html#cb66-1"></a><span class="kw">typeof</span>(<span class="ot">TRUE</span>) <span class="co"># логические</span></span></code></pre></div>
<pre><code>## [1] &quot;logical&quot;</code></pre>
<div id="сравнение-переменных" class="section level3">
<h3><span class="header-section-number">2.8.1</span> Сравнение переменных</h3>
<p>Переменные можно сравнивать:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="intro.html#cb68-1"></a>x &lt;-<span class="st"> </span><span class="dv">18</span></span>
<span id="cb68-2"><a href="intro.html#cb68-2"></a>x <span class="op">&gt;</span><span class="st"> </span><span class="dv">18</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="intro.html#cb70-1"></a>x <span class="op">&gt;=</span><span class="st"> </span><span class="dv">18</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="intro.html#cb72-1"></a>x <span class="op">&lt;</span><span class="st"> </span><span class="dv">100</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="intro.html#cb74-1"></a>x <span class="op">&lt;=</span><span class="st"> </span><span class="dv">18</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="intro.html#cb76-1"></a>x <span class="op">==</span><span class="st"> </span><span class="dv">18</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="intro.html#cb78-1"></a>x <span class="op">!=</span><span class="st"> </span><span class="dv">18</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>Оператор <code>!</code> изменяет логические значения на противоположные:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="intro.html#cb80-1"></a><span class="op">!</span><span class="ot">TRUE</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="intro.html#cb82-1"></a><span class="op">!</span><span class="ot">FALSE</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="intro.html#cb84-1"></a><span class="op">!</span>(x <span class="op">&gt;</span><span class="st"> </span><span class="dv">18</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>Стоит помнить о логических операциях, которые позволяют соединять разные логические выражения:</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="intro.html#cb86-1"></a>x &lt;-<span class="st"> </span><span class="dv">5</span></span>
<span id="cb86-2"><a href="intro.html#cb86-2"></a>x <span class="op">&gt;</span><span class="st"> </span><span class="dv">2</span> <span class="op">&amp;</span><span class="st"> </span>x <span class="op">&lt;</span><span class="st"> </span><span class="dv">2</span> <span class="co"># логическое и</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="intro.html#cb88-1"></a>x <span class="op">&gt;</span><span class="st"> </span><span class="dv">10</span> <span class="op">&amp;</span><span class="st"> </span>x <span class="op">&lt;</span><span class="st"> </span><span class="dv">100</span> <span class="co"># логическое и</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="intro.html#cb90-1"></a>x <span class="op">&gt;</span><span class="st"> </span><span class="dv">2</span> <span class="op">|</span><span class="st"> </span>x <span class="op">&lt;</span><span class="st"> </span><span class="dv">4</span> <span class="co"># логическое или</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="intro.html#cb92-1"></a>x <span class="op">&gt;</span><span class="st"> </span><span class="dv">6</span> <span class="op">|</span><span class="st"> </span>x <span class="op">&lt;</span><span class="st"> </span><span class="dv">4</span> <span class="co"># логическое или</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
</div>
</div>
<div id="вектор" class="section level2">
<h2><span class="header-section-number">2.9</span> Вектор</h2>
<p>Объект в R, который содержит элементы одного типа, называется <strong>вектор</strong>. Вектор можно создать при помощи функции <code>c()</code>:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="intro.html#cb94-1"></a><span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">0</span>, pi, <span class="fl">23.4</span>, <span class="dv">-53</span>)</span></code></pre></div>
<pre><code>## [1]   3.000000   0.000000   3.141593  23.400000 -53.000000</code></pre>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="intro.html#cb96-1"></a><span class="kw">c</span>(<span class="st">&quot;Нижний Новгород&quot;</span>, <span class="st">&quot;Пермь&quot;</span>, <span class="st">&quot;Санкт Петербург&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Нижний Новгород&quot; &quot;Пермь&quot;           &quot;Санкт Петербург&quot;</code></pre>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="intro.html#cb98-1"></a><span class="kw">c</span>(<span class="ot">FALSE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] FALSE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="intro.html#cb100-1"></a>a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb100-2"><a href="intro.html#cb100-2"></a>b &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>)</span>
<span id="cb100-3"><a href="intro.html#cb100-3"></a><span class="kw">c</span>(a, b)</span></code></pre></div>
<pre><code>## [1] 2 3 4 5 6 7</code></pre>
<p>Для последовательностей чисел есть и другой способ:</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="intro.html#cb102-1"></a><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="intro.html#cb104-1"></a><span class="dv">3</span><span class="op">:-</span><span class="dv">5</span></span></code></pre></div>
<pre><code>## [1]  3  2  1  0 -1 -2 -3 -4 -5</code></pre>
<p>Теперь становится понятно, что все, что мы видели раньше было вектором длины один. Вот почему там все время было <code>[1]</code>: Это индекс элементов в R. Посмотрите:</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="intro.html#cb106-1"></a><span class="dv">1</span><span class="op">:</span><span class="dv">60</span></span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25
## [26] 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50
## [51] 51 52 53 54 55 56 57 58 59 60</code></pre>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="intro.html#cb108-1"></a><span class="dv">60</span><span class="op">:</span><span class="dv">1</span></span></code></pre></div>
<pre><code>##  [1] 60 59 58 57 56 55 54 53 52 51 50 49 48 47 46 45 44 43 42 41 40 39 38 37 36
## [26] 35 34 33 32 31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11
## [51] 10  9  8  7  6  5  4  3  2  1</code></pre>
<p>На этом месте также должно стать очевидно, что в отличие от кучи языков программирования R считает с 1, а не с 0.</p>
<p>Для того чтобы создавать арифметические прогресии существует функция <code>seq()</code>:</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="intro.html#cb110-1"></a><span class="dv">1</span><span class="op">:</span><span class="dv">20</span></span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20</code></pre>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="intro.html#cb112-1"></a><span class="kw">seq</span>(<span class="dt">from =</span> <span class="dv">1</span>, <span class="dt">to =</span> <span class="dv">20</span>, <span class="dt">by =</span> <span class="dv">1</span>)</span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20</code></pre>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="intro.html#cb114-1"></a><span class="kw">seq</span>(<span class="dt">from =</span> <span class="dv">2</span>, <span class="dt">to =</span> <span class="dv">100</span>, <span class="dt">by =</span> <span class="dv">13</span>)</span></code></pre></div>
<pre><code>## [1]  2 15 28 41 54 67 80 93</code></pre>
<div class="rmdtask">
<p>
Используйте аргумент <code>length.out</code> функции <code>seq()</code>, чтобы создать арифметическую прогрессию от <span class="math inline"><span class="math inline">\(\pi\)</span></span> до <span class="math inline"><span class="math inline">\(2\pi\)</span></span> длины 50.
</p>
</div>
<p>Кроме того в R есть какое-то количество встроенных векторов:</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="intro.html#cb116-1"></a>letters</span></code></pre></div>
<pre><code>##  [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot; &quot;g&quot; &quot;h&quot; &quot;i&quot; &quot;j&quot; &quot;k&quot; &quot;l&quot; &quot;m&quot; &quot;n&quot; &quot;o&quot; &quot;p&quot; &quot;q&quot; &quot;r&quot; &quot;s&quot;
## [20] &quot;t&quot; &quot;u&quot; &quot;v&quot; &quot;w&quot; &quot;x&quot; &quot;y&quot; &quot;z&quot;</code></pre>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="intro.html#cb118-1"></a>LETTERS</span></code></pre></div>
<pre><code>##  [1] &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;E&quot; &quot;F&quot; &quot;G&quot; &quot;H&quot; &quot;I&quot; &quot;J&quot; &quot;K&quot; &quot;L&quot; &quot;M&quot; &quot;N&quot; &quot;O&quot; &quot;P&quot; &quot;Q&quot; &quot;R&quot; &quot;S&quot;
## [20] &quot;T&quot; &quot;U&quot; &quot;V&quot; &quot;W&quot; &quot;X&quot; &quot;Y&quot; &quot;Z&quot;</code></pre>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="intro.html#cb120-1"></a>month.name</span></code></pre></div>
<pre><code>##  [1] &quot;January&quot;   &quot;February&quot;  &quot;March&quot;     &quot;April&quot;     &quot;May&quot;       &quot;June&quot;     
##  [7] &quot;July&quot;      &quot;August&quot;    &quot;September&quot; &quot;October&quot;   &quot;November&quot;  &quot;December&quot;</code></pre>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="intro.html#cb122-1"></a>month.abb</span></code></pre></div>
<pre><code>##  [1] &quot;Jan&quot; &quot;Feb&quot; &quot;Mar&quot; &quot;Apr&quot; &quot;May&quot; &quot;Jun&quot; &quot;Jul&quot; &quot;Aug&quot; &quot;Sep&quot; &quot;Oct&quot; &quot;Nov&quot; &quot;Dec&quot;</code></pre>
<div id="приведение-типов" class="section level3">
<h3><span class="header-section-number">2.9.1</span> Приведение типов</h3>
<p>По определению вектор может содержать только единицы <strong>одного типа</strong>. Но что происходит, если соединить элементы разных типов?</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="intro.html#cb124-1"></a><span class="kw">c</span>(<span class="dv">1</span>, <span class="st">&quot;34&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;1&quot;  &quot;34&quot;</code></pre>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="intro.html#cb126-1"></a><span class="kw">c</span>(<span class="dv">1</span>, <span class="ot">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 1 1</code></pre>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="intro.html#cb128-1"></a><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="st">&quot;34&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;TRUE&quot; &quot;34&quot;</code></pre>
<p>Мы видим иерархию: строки &gt; числа &gt; логические выражения. Это не универсально между разными языками программирования. Также это не зависит от количество элементов того или иного типа:</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="intro.html#cb130-1"></a><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="st">&quot;34&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;1&quot;  &quot;2&quot;  &quot;3&quot;  &quot;34&quot;</code></pre>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="intro.html#cb132-1"></a><span class="kw">c</span>(<span class="dv">1</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>)</span></code></pre></div>
<pre><code>## [1] 1 1 0 0</code></pre>
<p>Приведение типов может случится, во время выполнения и других операций:</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="intro.html#cb134-1"></a><span class="dv">5</span><span class="op">+</span><span class="ot">TRUE</span></span></code></pre></div>
<pre><code>## [1] 6</code></pre>
</div>
<div id="операции-с-векторами-и-векторизованные-операции" class="section level3">
<h3><span class="header-section-number">2.9.2</span> Операции с векторами и векторизованные операции</h3>
<p>Все операции, которые мы раньше обсуждали, можно сделать с векторами одинаковой длины:</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="intro.html#cb136-1"></a><span class="dv">1</span><span class="op">:</span><span class="dv">5</span> <span class="op">+</span><span class="st"> </span><span class="dv">6</span><span class="op">:</span><span class="dv">10</span></span></code></pre></div>
<pre><code>## [1]  7  9 11 13 15</code></pre>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="intro.html#cb138-1"></a><span class="dv">1</span><span class="op">:</span><span class="dv">5</span> <span class="op">-</span><span class="st"> </span><span class="dv">6</span><span class="op">:</span><span class="dv">10</span></span></code></pre></div>
<pre><code>## [1] -5 -5 -5 -5 -5</code></pre>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="intro.html#cb140-1"></a><span class="dv">1</span><span class="op">:</span><span class="dv">5</span> <span class="op">*</span><span class="st"> </span><span class="dv">6</span><span class="op">:</span><span class="dv">10</span></span></code></pre></div>
<pre><code>## [1]  6 14 24 36 50</code></pre>
<p>Если один из векторов имеет длинну один, то получится так называемая <strong>векторизованная операция</strong> — операция произойдет с каждым элементом вектора:</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="intro.html#cb142-1"></a><span class="dv">1</span><span class="op">:</span><span class="dv">5</span> <span class="op">+</span><span class="st"> </span><span class="dv">7</span></span></code></pre></div>
<pre><code>## [1]  8  9 10 11 12</code></pre>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="intro.html#cb144-1"></a><span class="dv">1</span><span class="op">:</span><span class="dv">5</span> <span class="op">-</span><span class="st"> </span><span class="dv">7</span></span></code></pre></div>
<pre><code>## [1] -6 -5 -4 -3 -2</code></pre>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="intro.html#cb146-1"></a><span class="dv">1</span><span class="op">:</span><span class="dv">5</span> <span class="op">/</span><span class="st"> </span><span class="dv">7</span></span></code></pre></div>
<pre><code>## [1] 0.1428571 0.2857143 0.4285714 0.5714286 0.7142857</code></pre>
<p>В R очень много <strong>векторизованных</strong> функций:</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="intro.html#cb148-1"></a><span class="kw">sin</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1]  0.8414710  0.9092974  0.1411200 -0.7568025 -0.9589243</code></pre>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="intro.html#cb150-1"></a><span class="kw">sqrt</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] 1.000000 1.414214 1.732051 2.000000 2.236068</code></pre>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="intro.html#cb152-1"></a><span class="kw">abs</span>(<span class="op">-</span><span class="dv">5</span><span class="op">:</span><span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] 5 4 3 2 1 0 1 2 3</code></pre>
</div>
<div id="индексирование-вектора" class="section level3">
<h3><span class="header-section-number">2.9.3</span> Индексирование вектора</h3>
<p>Как получить какое-то значение или несколько значений из вектора? Нужно использовать индекс:</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="intro.html#cb154-1"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">0</span>, pi, <span class="fl">23.4</span>, <span class="dv">-53</span>)</span>
<span id="cb154-2"><a href="intro.html#cb154-2"></a>y &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Нижний Новгород&quot;</span>, <span class="st">&quot;Пермь&quot;</span>, <span class="st">&quot;Санкт Петербург&quot;</span>)</span>
<span id="cb154-3"><a href="intro.html#cb154-3"></a></span>
<span id="cb154-4"><a href="intro.html#cb154-4"></a>x[<span class="dv">4</span>]</span></code></pre></div>
<pre><code>## [1] 23.4</code></pre>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="intro.html#cb156-1"></a>y[<span class="dv">2</span>]</span></code></pre></div>
<pre><code>## [1] &quot;Пермь&quot;</code></pre>
<p>Вектор можно использовать в качестве индекса:</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="intro.html#cb158-1"></a>x[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]</span></code></pre></div>
<pre><code>## [1] 3 0</code></pre>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="intro.html#cb160-1"></a>y[<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)]</span></code></pre></div>
<pre><code>## [1] &quot;Нижний Новгород&quot; &quot;Санкт Петербург&quot;</code></pre>
<p>Отрицательный индекс исключает элементы из вектора:</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="intro.html#cb162-1"></a>y[<span class="op">-</span><span class="dv">2</span>]</span></code></pre></div>
<pre><code>## [1] &quot;Нижний Новгород&quot; &quot;Санкт Петербург&quot;</code></pre>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="intro.html#cb164-1"></a>x[<span class="op">-</span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">4</span>)]</span></code></pre></div>
<pre><code>## [1]   0.000000   3.141593 -53.000000</code></pre>
<p>Разумеется, в качестве индекса можно использовать переменные:</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="intro.html#cb166-1"></a>z &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">2</span>)</span>
<span id="cb166-2"><a href="intro.html#cb166-2"></a>x[z]</span></code></pre></div>
<pre><code>## [1] 3.141593 0.000000</code></pre>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="intro.html#cb168-1"></a>y[z]</span></code></pre></div>
<pre><code>## [1] &quot;Санкт Петербург&quot; &quot;Пермь&quot;</code></pre>
<p>Кроме того, в качесвте индекса можно использовать вектор логических значений:</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="intro.html#cb170-1"></a>x[<span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>)]</span></code></pre></div>
<pre><code>## [1]  3.000000  3.141593 23.400000</code></pre>
<p>А это в свою очередь означает, что в качестве индекса можно использовать вектор <code>TRUE/FALSE</code>, получающийся в результате сранвения:</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="intro.html#cb172-1"></a>x[x <span class="op">&gt;</span><span class="st"> </span><span class="dv">2</span>]</span></code></pre></div>
<pre><code>## [1]  3.000000  3.141593 23.400000</code></pre>
<p>Это работает потому что выражение <code>x &gt; 2</code> вектор логических значений:</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="intro.html#cb174-1"></a>x <span class="op">&gt;</span><span class="st"> </span><span class="dv">2</span></span></code></pre></div>
<pre><code>## [1]  TRUE FALSE  TRUE  TRUE FALSE</code></pre>
<p>Как мы обсуждали раньше оператор <code>!</code> может перевернуть все логические значения на противоположные:</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="intro.html#cb176-1"></a>x[<span class="op">!</span>(x <span class="op">&gt;</span><span class="st"> </span><span class="dv">2</span>)]</span></code></pre></div>
<pre><code>## [1]   0 -53</code></pre>
<div class="rmdtask">
<p>
Сколько элементов в векторе <code>g</code>, если выражение <code>g[pi &lt; 1000]</code> не возвращает ошибки?
</p>
</div>
<div class="rmdtask">
<p>
Во встроенном датасете <code>Nile</code> содержаться данные о ежегодном разливе Нила в 1871–1970 годах (в миллиардах кубических метров). Сколько в датасете наблюдений больше 1000 и меньше 1200.
</p>
</div>
<form name="form_80249" onsubmit="return validate_form_80249()" method="post">
<input type="text" name="answer_80249"><br><input type="submit" value="check">
</form>
<p id="result_80249">
</p>
<script> function validate_form_80249() {var x, text; var x = document.forms["form_80249"]["answer_80249"].value;if (x == "23"){text = 'Correct';} else {text = 'I have a different answer';} document.getElementById('result_80249').innerHTML = text; return false;} </script>
</div>
<div id="пропущенные-значения" class="section level3">
<h3><span class="header-section-number">2.9.4</span> Пропущенные значения</h3>
<p>Иногда в процессе сбора данных возникают пропущенные значения. Для представления таких данных в R используется последовательность <code>NA</code>:</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="intro.html#cb178-1"></a><span class="ot">NA</span></span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="intro.html#cb180-1"></a><span class="kw">c</span>(<span class="dv">1</span>, <span class="ot">NA</span>, <span class="dv">9</span>)</span></code></pre></div>
<pre><code>## [1]  1 NA  9</code></pre>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="intro.html#cb182-1"></a><span class="kw">c</span>(<span class="st">&quot;Нижний Новгород&quot;</span>, <span class="ot">NA</span>, <span class="st">&quot;Санкт Петербург&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Нижний Новгород&quot; NA                &quot;Санкт Петербург&quot;</code></pre>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="intro.html#cb184-1"></a><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">NA</span>)</span></code></pre></div>
<pre><code>## [1]  TRUE FALSE    NA</code></pre>
<p>Функция <code>is.na</code> проверяет, есть ли в векторе пропущенные значения:</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="intro.html#cb186-1"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Нижний Новгород&quot;</span>, <span class="ot">NA</span>, <span class="st">&quot;Санкт Петербург&quot;</span>)</span>
<span id="cb186-2"><a href="intro.html#cb186-2"></a>y &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Нижний Новгород&quot;</span>, <span class="st">&quot;Пермь&quot;</span>, <span class="st">&quot;Санкт Петербург&quot;</span>)</span>
<span id="cb186-3"><a href="intro.html#cb186-3"></a><span class="kw">is.na</span>(x)</span></code></pre></div>
<pre><code>## [1] FALSE  TRUE FALSE</code></pre>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="intro.html#cb188-1"></a><span class="kw">is.na</span>(y)</span></code></pre></div>
<pre><code>## [1] FALSE FALSE FALSE</code></pre>
<p>Некоторые функции не работают с векторами, которые содержат пропущенные значения, и имеют аргумент для их удаления <code>na.rm = TRUE</code>:</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="intro.html#cb190-1"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="ot">NA</span>, <span class="dv">9</span>, <span class="dv">5</span>)</span>
<span id="cb190-2"><a href="intro.html#cb190-2"></a><span class="kw">mean</span>(x)</span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="intro.html#cb192-1"></a><span class="kw">mean</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="intro.html#cb194-1"></a><span class="kw">min</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="intro.html#cb196-1"></a><span class="kw">max</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 9</code></pre>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="intro.html#cb198-1"></a><span class="kw">median</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="intro.html#cb200-1"></a><span class="kw">range</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 1 9</code></pre>
<div class="rmdtask">
<p>
Сколько элементов в векторе <code>g</code>, если выражение <code>g[pi &lt; 1000]</code> не возвращает ошибки?
</p>
</div>
</div>
</div>
<div id="пакеты" class="section level2">
<h2><span class="header-section-number">2.10</span> Пакеты</h2>
<p>Самая большая ценность R не в нем самом, а в пакетах, которые написаны для этого языка. Более ли менее, все, что мы пока обсуждали — основной механизм работы R, который разработали еще в 1979. С тех пор много чего поменялось, так что все новые практики в анализе и трансформации данных хранятся в пакетах — отдельный модуль, после загрузки которого в окружении R появляются дополнительные функции. Мы изучим наиболее популярный диалект R, который называется <code>tidyverse</code> (альтернатива – пакет data.table).</p>
<p>Для установки пакета следует использовать функцию <code>install.packages()</code></p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="intro.html#cb202-1"></a><span class="kw">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>)</span></code></pre></div>
<p>Сегодня нам еще понадобиться пакет <code>readxl</code>:</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="intro.html#cb203-1"></a><span class="kw">install.packages</span>(<span class="st">&quot;readxl&quot;</span>)</span></code></pre></div>
<p>После того, как пакет установлен, его можно включить:</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="intro.html#cb204-1"></a><span class="kw">library</span>(<span class="st">&quot;tidyverse&quot;</span>)</span></code></pre></div>
<pre><code>## ── Attaching packages ────────</code></pre>
<pre><code>## ✓ ggplot2 3.3.2     ✓ purrr   0.3.4
## ✓ tibble  3.0.3     ✓ dplyr   1.0.2
## ✓ tidyr   1.1.2     ✓ stringr 1.4.0
## ✓ readr   1.3.1     ✓ forcats 0.5.0</code></pre>
<pre><code>## ── Conflicts ─────────────────
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<p>Не загрузка пакета — самая частая ошибка студентов:</p>
<ul>
<li><code>install.packages("...")</code> — это как купить набор отверток;</li>
<li><code>library("...")</code> — это как собрать и быть готовым использовать купленный набор.</li>
</ul>
<p><img src="images/01.05.install-packages-vs-library.png" /></p>
<div class="rmdtask">
<p>
Установите пакеты <code>tidyverse</code> и <code>readxl</code>. К какому пакету принадлежит функция <code>add_column()</code>?
</p>
</div>
<form name="form_9299" onsubmit="return validate_form_9299()" method="post">
<select name="answer_9299"><option> dplyr </option><option> ggplot2 </option><option> purrr </option><option> readr </option><option> readxl </option><option> tibble </option><option> tidyr </option></select><br><input type="submit" value="check">
</form>
<p id="result_9299">
</p>
<script> function validate_form_9299() {var x, text; var x = document.forms["form_9299"]["answer_9299"].value;if (x == "tibble"){text = 'Correct';} else {text = 'I have a different answer';} document.getElementById('result_9299').innerHTML = text; return false;} </script>
</div>
<div id="датафрейм-и-тиббл" class="section level2">
<h2><span class="header-section-number">2.11</span> Датафрейм и тиббл</h2>
<p>Датафрейм — это собрание векторов одинаковой длины с уникальными названиями. Вот пример датафрейма с фильмографией Тома Мура:</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="intro.html#cb208-1"></a>moore_filmography &lt;-<span class="st"> </span><span class="kw">tibble</span>(<span class="dt">title =</span> <span class="kw">c</span>(<span class="st">&quot;The Secret of Kells&quot;</span>, </span>
<span id="cb208-2"><a href="intro.html#cb208-2"></a>                                      <span class="st">&quot;Song of the Sea&quot;</span>, </span>
<span id="cb208-3"><a href="intro.html#cb208-3"></a>                                      <span class="st">&quot;Kahlil Gibran&#39;s The Prophet&quot;</span>, </span>
<span id="cb208-4"><a href="intro.html#cb208-4"></a>                                      <span class="st">&quot;The Breadwinner&quot;</span>, </span>
<span id="cb208-5"><a href="intro.html#cb208-5"></a>                                      <span class="st">&quot;Wolfwalkers&quot;</span>),</span>
<span id="cb208-6"><a href="intro.html#cb208-6"></a>                            <span class="dt">year =</span> <span class="kw">c</span>(<span class="dv">2009</span>, <span class="dv">2014</span>, <span class="dv">2014</span>, <span class="dv">2017</span>, <span class="dv">2020</span>),</span>
<span id="cb208-7"><a href="intro.html#cb208-7"></a>                            <span class="dt">director =</span> <span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>))</span>
<span id="cb208-8"><a href="intro.html#cb208-8"></a>moore_filmography</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["title"],"name":[1],"type":["chr"],"align":["left"]},{"label":["year"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["director"],"name":[3],"type":["lgl"],"align":["right"]}],"data":[{"1":"The Secret of Kells","2":"2009","3":"TRUE"},{"1":"Song of the Sea","2":"2014","3":"TRUE"},{"1":"Kahlil Gibran's The Prophet","2":"2014","3":"TRUE"},{"1":"The Breadwinner","2":"2017","3":"FALSE"},{"1":"Wolfwalkers","2":"2020","3":"TRUE"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Существует много встроенных датафреймов:</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="intro.html#cb209-1"></a>mtcars</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]}],"data":[{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.620","7":"16.46","8":"0","9":"1","10":"4","11":"4","_rn_":"Mazda RX4"},{"1":"21.0","2":"6","3":"160.0","4":"110","5":"3.90","6":"2.875","7":"17.02","8":"0","9":"1","10":"4","11":"4","_rn_":"Mazda RX4 Wag"},{"1":"22.8","2":"4","3":"108.0","4":"93","5":"3.85","6":"2.320","7":"18.61","8":"1","9":"1","10":"4","11":"1","_rn_":"Datsun 710"},{"1":"21.4","2":"6","3":"258.0","4":"110","5":"3.08","6":"3.215","7":"19.44","8":"1","9":"0","10":"3","11":"1","_rn_":"Hornet 4 Drive"},{"1":"18.7","2":"8","3":"360.0","4":"175","5":"3.15","6":"3.440","7":"17.02","8":"0","9":"0","10":"3","11":"2","_rn_":"Hornet Sportabout"},{"1":"18.1","2":"6","3":"225.0","4":"105","5":"2.76","6":"3.460","7":"20.22","8":"1","9":"0","10":"3","11":"1","_rn_":"Valiant"},{"1":"14.3","2":"8","3":"360.0","4":"245","5":"3.21","6":"3.570","7":"15.84","8":"0","9":"0","10":"3","11":"4","_rn_":"Duster 360"},{"1":"24.4","2":"4","3":"146.7","4":"62","5":"3.69","6":"3.190","7":"20.00","8":"1","9":"0","10":"4","11":"2","_rn_":"Merc 240D"},{"1":"22.8","2":"4","3":"140.8","4":"95","5":"3.92","6":"3.150","7":"22.90","8":"1","9":"0","10":"4","11":"2","_rn_":"Merc 230"},{"1":"19.2","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.30","8":"1","9":"0","10":"4","11":"4","_rn_":"Merc 280"},{"1":"17.8","2":"6","3":"167.6","4":"123","5":"3.92","6":"3.440","7":"18.90","8":"1","9":"0","10":"4","11":"4","_rn_":"Merc 280C"},{"1":"16.4","2":"8","3":"275.8","4":"180","5":"3.07","6":"4.070","7":"17.40","8":"0","9":"0","10":"3","11":"3","_rn_":"Merc 450SE"},{"1":"17.3","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.730","7":"17.60","8":"0","9":"0","10":"3","11":"3","_rn_":"Merc 450SL"},{"1":"15.2","2":"8","3":"275.8","4":"180","5":"3.07","6":"3.780","7":"18.00","8":"0","9":"0","10":"3","11":"3","_rn_":"Merc 450SLC"},{"1":"10.4","2":"8","3":"472.0","4":"205","5":"2.93","6":"5.250","7":"17.98","8":"0","9":"0","10":"3","11":"4","_rn_":"Cadillac Fleetwood"},{"1":"10.4","2":"8","3":"460.0","4":"215","5":"3.00","6":"5.424","7":"17.82","8":"0","9":"0","10":"3","11":"4","_rn_":"Lincoln Continental"},{"1":"14.7","2":"8","3":"440.0","4":"230","5":"3.23","6":"5.345","7":"17.42","8":"0","9":"0","10":"3","11":"4","_rn_":"Chrysler Imperial"},{"1":"32.4","2":"4","3":"78.7","4":"66","5":"4.08","6":"2.200","7":"19.47","8":"1","9":"1","10":"4","11":"1","_rn_":"Fiat 128"},{"1":"30.4","2":"4","3":"75.7","4":"52","5":"4.93","6":"1.615","7":"18.52","8":"1","9":"1","10":"4","11":"2","_rn_":"Honda Civic"},{"1":"33.9","2":"4","3":"71.1","4":"65","5":"4.22","6":"1.835","7":"19.90","8":"1","9":"1","10":"4","11":"1","_rn_":"Toyota Corolla"},{"1":"21.5","2":"4","3":"120.1","4":"97","5":"3.70","6":"2.465","7":"20.01","8":"1","9":"0","10":"3","11":"1","_rn_":"Toyota Corona"},{"1":"15.5","2":"8","3":"318.0","4":"150","5":"2.76","6":"3.520","7":"16.87","8":"0","9":"0","10":"3","11":"2","_rn_":"Dodge Challenger"},{"1":"15.2","2":"8","3":"304.0","4":"150","5":"3.15","6":"3.435","7":"17.30","8":"0","9":"0","10":"3","11":"2","_rn_":"AMC Javelin"},{"1":"13.3","2":"8","3":"350.0","4":"245","5":"3.73","6":"3.840","7":"15.41","8":"0","9":"0","10":"3","11":"4","_rn_":"Camaro Z28"},{"1":"19.2","2":"8","3":"400.0","4":"175","5":"3.08","6":"3.845","7":"17.05","8":"0","9":"0","10":"3","11":"2","_rn_":"Pontiac Firebird"},{"1":"27.3","2":"4","3":"79.0","4":"66","5":"4.08","6":"1.935","7":"18.90","8":"1","9":"1","10":"4","11":"1","_rn_":"Fiat X1-9"},{"1":"26.0","2":"4","3":"120.3","4":"91","5":"4.43","6":"2.140","7":"16.70","8":"0","9":"1","10":"5","11":"2","_rn_":"Porsche 914-2"},{"1":"30.4","2":"4","3":"95.1","4":"113","5":"3.77","6":"1.513","7":"16.90","8":"1","9":"1","10":"5","11":"2","_rn_":"Lotus Europa"},{"1":"15.8","2":"8","3":"351.0","4":"264","5":"4.22","6":"3.170","7":"14.50","8":"0","9":"1","10":"5","11":"4","_rn_":"Ford Pantera L"},{"1":"19.7","2":"6","3":"145.0","4":"175","5":"3.62","6":"2.770","7":"15.50","8":"0","9":"1","10":"5","11":"6","_rn_":"Ferrari Dino"},{"1":"15.0","2":"8","3":"301.0","4":"335","5":"3.54","6":"3.570","7":"14.60","8":"0","9":"1","10":"5","11":"8","_rn_":"Maserati Bora"},{"1":"21.4","2":"4","3":"121.0","4":"109","5":"4.11","6":"2.780","7":"18.60","8":"1","9":"1","10":"4","11":"2","_rn_":"Volvo 142E"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb210-1"><a href="intro.html#cb210-1"></a>iris</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Sepal.Length"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Sepal.Width"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Petal.Length"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Petal.Width"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Species"],"name":[5],"type":["fctr"],"align":["left"]}],"data":[{"1":"5.1","2":"3.5","3":"1.4","4":"0.2","5":"setosa"},{"1":"4.9","2":"3.0","3":"1.4","4":"0.2","5":"setosa"},{"1":"4.7","2":"3.2","3":"1.3","4":"0.2","5":"setosa"},{"1":"4.6","2":"3.1","3":"1.5","4":"0.2","5":"setosa"},{"1":"5.0","2":"3.6","3":"1.4","4":"0.2","5":"setosa"},{"1":"5.4","2":"3.9","3":"1.7","4":"0.4","5":"setosa"},{"1":"4.6","2":"3.4","3":"1.4","4":"0.3","5":"setosa"},{"1":"5.0","2":"3.4","3":"1.5","4":"0.2","5":"setosa"},{"1":"4.4","2":"2.9","3":"1.4","4":"0.2","5":"setosa"},{"1":"4.9","2":"3.1","3":"1.5","4":"0.1","5":"setosa"},{"1":"5.4","2":"3.7","3":"1.5","4":"0.2","5":"setosa"},{"1":"4.8","2":"3.4","3":"1.6","4":"0.2","5":"setosa"},{"1":"4.8","2":"3.0","3":"1.4","4":"0.1","5":"setosa"},{"1":"4.3","2":"3.0","3":"1.1","4":"0.1","5":"setosa"},{"1":"5.8","2":"4.0","3":"1.2","4":"0.2","5":"setosa"},{"1":"5.7","2":"4.4","3":"1.5","4":"0.4","5":"setosa"},{"1":"5.4","2":"3.9","3":"1.3","4":"0.4","5":"setosa"},{"1":"5.1","2":"3.5","3":"1.4","4":"0.3","5":"setosa"},{"1":"5.7","2":"3.8","3":"1.7","4":"0.3","5":"setosa"},{"1":"5.1","2":"3.8","3":"1.5","4":"0.3","5":"setosa"},{"1":"5.4","2":"3.4","3":"1.7","4":"0.2","5":"setosa"},{"1":"5.1","2":"3.7","3":"1.5","4":"0.4","5":"setosa"},{"1":"4.6","2":"3.6","3":"1.0","4":"0.2","5":"setosa"},{"1":"5.1","2":"3.3","3":"1.7","4":"0.5","5":"setosa"},{"1":"4.8","2":"3.4","3":"1.9","4":"0.2","5":"setosa"},{"1":"5.0","2":"3.0","3":"1.6","4":"0.2","5":"setosa"},{"1":"5.0","2":"3.4","3":"1.6","4":"0.4","5":"setosa"},{"1":"5.2","2":"3.5","3":"1.5","4":"0.2","5":"setosa"},{"1":"5.2","2":"3.4","3":"1.4","4":"0.2","5":"setosa"},{"1":"4.7","2":"3.2","3":"1.6","4":"0.2","5":"setosa"},{"1":"4.8","2":"3.1","3":"1.6","4":"0.2","5":"setosa"},{"1":"5.4","2":"3.4","3":"1.5","4":"0.4","5":"setosa"},{"1":"5.2","2":"4.1","3":"1.5","4":"0.1","5":"setosa"},{"1":"5.5","2":"4.2","3":"1.4","4":"0.2","5":"setosa"},{"1":"4.9","2":"3.1","3":"1.5","4":"0.2","5":"setosa"},{"1":"5.0","2":"3.2","3":"1.2","4":"0.2","5":"setosa"},{"1":"5.5","2":"3.5","3":"1.3","4":"0.2","5":"setosa"},{"1":"4.9","2":"3.6","3":"1.4","4":"0.1","5":"setosa"},{"1":"4.4","2":"3.0","3":"1.3","4":"0.2","5":"setosa"},{"1":"5.1","2":"3.4","3":"1.5","4":"0.2","5":"setosa"},{"1":"5.0","2":"3.5","3":"1.3","4":"0.3","5":"setosa"},{"1":"4.5","2":"2.3","3":"1.3","4":"0.3","5":"setosa"},{"1":"4.4","2":"3.2","3":"1.3","4":"0.2","5":"setosa"},{"1":"5.0","2":"3.5","3":"1.6","4":"0.6","5":"setosa"},{"1":"5.1","2":"3.8","3":"1.9","4":"0.4","5":"setosa"},{"1":"4.8","2":"3.0","3":"1.4","4":"0.3","5":"setosa"},{"1":"5.1","2":"3.8","3":"1.6","4":"0.2","5":"setosa"},{"1":"4.6","2":"3.2","3":"1.4","4":"0.2","5":"setosa"},{"1":"5.3","2":"3.7","3":"1.5","4":"0.2","5":"setosa"},{"1":"5.0","2":"3.3","3":"1.4","4":"0.2","5":"setosa"},{"1":"7.0","2":"3.2","3":"4.7","4":"1.4","5":"versicolor"},{"1":"6.4","2":"3.2","3":"4.5","4":"1.5","5":"versicolor"},{"1":"6.9","2":"3.1","3":"4.9","4":"1.5","5":"versicolor"},{"1":"5.5","2":"2.3","3":"4.0","4":"1.3","5":"versicolor"},{"1":"6.5","2":"2.8","3":"4.6","4":"1.5","5":"versicolor"},{"1":"5.7","2":"2.8","3":"4.5","4":"1.3","5":"versicolor"},{"1":"6.3","2":"3.3","3":"4.7","4":"1.6","5":"versicolor"},{"1":"4.9","2":"2.4","3":"3.3","4":"1.0","5":"versicolor"},{"1":"6.6","2":"2.9","3":"4.6","4":"1.3","5":"versicolor"},{"1":"5.2","2":"2.7","3":"3.9","4":"1.4","5":"versicolor"},{"1":"5.0","2":"2.0","3":"3.5","4":"1.0","5":"versicolor"},{"1":"5.9","2":"3.0","3":"4.2","4":"1.5","5":"versicolor"},{"1":"6.0","2":"2.2","3":"4.0","4":"1.0","5":"versicolor"},{"1":"6.1","2":"2.9","3":"4.7","4":"1.4","5":"versicolor"},{"1":"5.6","2":"2.9","3":"3.6","4":"1.3","5":"versicolor"},{"1":"6.7","2":"3.1","3":"4.4","4":"1.4","5":"versicolor"},{"1":"5.6","2":"3.0","3":"4.5","4":"1.5","5":"versicolor"},{"1":"5.8","2":"2.7","3":"4.1","4":"1.0","5":"versicolor"},{"1":"6.2","2":"2.2","3":"4.5","4":"1.5","5":"versicolor"},{"1":"5.6","2":"2.5","3":"3.9","4":"1.1","5":"versicolor"},{"1":"5.9","2":"3.2","3":"4.8","4":"1.8","5":"versicolor"},{"1":"6.1","2":"2.8","3":"4.0","4":"1.3","5":"versicolor"},{"1":"6.3","2":"2.5","3":"4.9","4":"1.5","5":"versicolor"},{"1":"6.1","2":"2.8","3":"4.7","4":"1.2","5":"versicolor"},{"1":"6.4","2":"2.9","3":"4.3","4":"1.3","5":"versicolor"},{"1":"6.6","2":"3.0","3":"4.4","4":"1.4","5":"versicolor"},{"1":"6.8","2":"2.8","3":"4.8","4":"1.4","5":"versicolor"},{"1":"6.7","2":"3.0","3":"5.0","4":"1.7","5":"versicolor"},{"1":"6.0","2":"2.9","3":"4.5","4":"1.5","5":"versicolor"},{"1":"5.7","2":"2.6","3":"3.5","4":"1.0","5":"versicolor"},{"1":"5.5","2":"2.4","3":"3.8","4":"1.1","5":"versicolor"},{"1":"5.5","2":"2.4","3":"3.7","4":"1.0","5":"versicolor"},{"1":"5.8","2":"2.7","3":"3.9","4":"1.2","5":"versicolor"},{"1":"6.0","2":"2.7","3":"5.1","4":"1.6","5":"versicolor"},{"1":"5.4","2":"3.0","3":"4.5","4":"1.5","5":"versicolor"},{"1":"6.0","2":"3.4","3":"4.5","4":"1.6","5":"versicolor"},{"1":"6.7","2":"3.1","3":"4.7","4":"1.5","5":"versicolor"},{"1":"6.3","2":"2.3","3":"4.4","4":"1.3","5":"versicolor"},{"1":"5.6","2":"3.0","3":"4.1","4":"1.3","5":"versicolor"},{"1":"5.5","2":"2.5","3":"4.0","4":"1.3","5":"versicolor"},{"1":"5.5","2":"2.6","3":"4.4","4":"1.2","5":"versicolor"},{"1":"6.1","2":"3.0","3":"4.6","4":"1.4","5":"versicolor"},{"1":"5.8","2":"2.6","3":"4.0","4":"1.2","5":"versicolor"},{"1":"5.0","2":"2.3","3":"3.3","4":"1.0","5":"versicolor"},{"1":"5.6","2":"2.7","3":"4.2","4":"1.3","5":"versicolor"},{"1":"5.7","2":"3.0","3":"4.2","4":"1.2","5":"versicolor"},{"1":"5.7","2":"2.9","3":"4.2","4":"1.3","5":"versicolor"},{"1":"6.2","2":"2.9","3":"4.3","4":"1.3","5":"versicolor"},{"1":"5.1","2":"2.5","3":"3.0","4":"1.1","5":"versicolor"},{"1":"5.7","2":"2.8","3":"4.1","4":"1.3","5":"versicolor"},{"1":"6.3","2":"3.3","3":"6.0","4":"2.5","5":"virginica"},{"1":"5.8","2":"2.7","3":"5.1","4":"1.9","5":"virginica"},{"1":"7.1","2":"3.0","3":"5.9","4":"2.1","5":"virginica"},{"1":"6.3","2":"2.9","3":"5.6","4":"1.8","5":"virginica"},{"1":"6.5","2":"3.0","3":"5.8","4":"2.2","5":"virginica"},{"1":"7.6","2":"3.0","3":"6.6","4":"2.1","5":"virginica"},{"1":"4.9","2":"2.5","3":"4.5","4":"1.7","5":"virginica"},{"1":"7.3","2":"2.9","3":"6.3","4":"1.8","5":"virginica"},{"1":"6.7","2":"2.5","3":"5.8","4":"1.8","5":"virginica"},{"1":"7.2","2":"3.6","3":"6.1","4":"2.5","5":"virginica"},{"1":"6.5","2":"3.2","3":"5.1","4":"2.0","5":"virginica"},{"1":"6.4","2":"2.7","3":"5.3","4":"1.9","5":"virginica"},{"1":"6.8","2":"3.0","3":"5.5","4":"2.1","5":"virginica"},{"1":"5.7","2":"2.5","3":"5.0","4":"2.0","5":"virginica"},{"1":"5.8","2":"2.8","3":"5.1","4":"2.4","5":"virginica"},{"1":"6.4","2":"3.2","3":"5.3","4":"2.3","5":"virginica"},{"1":"6.5","2":"3.0","3":"5.5","4":"1.8","5":"virginica"},{"1":"7.7","2":"3.8","3":"6.7","4":"2.2","5":"virginica"},{"1":"7.7","2":"2.6","3":"6.9","4":"2.3","5":"virginica"},{"1":"6.0","2":"2.2","3":"5.0","4":"1.5","5":"virginica"},{"1":"6.9","2":"3.2","3":"5.7","4":"2.3","5":"virginica"},{"1":"5.6","2":"2.8","3":"4.9","4":"2.0","5":"virginica"},{"1":"7.7","2":"2.8","3":"6.7","4":"2.0","5":"virginica"},{"1":"6.3","2":"2.7","3":"4.9","4":"1.8","5":"virginica"},{"1":"6.7","2":"3.3","3":"5.7","4":"2.1","5":"virginica"},{"1":"7.2","2":"3.2","3":"6.0","4":"1.8","5":"virginica"},{"1":"6.2","2":"2.8","3":"4.8","4":"1.8","5":"virginica"},{"1":"6.1","2":"3.0","3":"4.9","4":"1.8","5":"virginica"},{"1":"6.4","2":"2.8","3":"5.6","4":"2.1","5":"virginica"},{"1":"7.2","2":"3.0","3":"5.8","4":"1.6","5":"virginica"},{"1":"7.4","2":"2.8","3":"6.1","4":"1.9","5":"virginica"},{"1":"7.9","2":"3.8","3":"6.4","4":"2.0","5":"virginica"},{"1":"6.4","2":"2.8","3":"5.6","4":"2.2","5":"virginica"},{"1":"6.3","2":"2.8","3":"5.1","4":"1.5","5":"virginica"},{"1":"6.1","2":"2.6","3":"5.6","4":"1.4","5":"virginica"},{"1":"7.7","2":"3.0","3":"6.1","4":"2.3","5":"virginica"},{"1":"6.3","2":"3.4","3":"5.6","4":"2.4","5":"virginica"},{"1":"6.4","2":"3.1","3":"5.5","4":"1.8","5":"virginica"},{"1":"6.0","2":"3.0","3":"4.8","4":"1.8","5":"virginica"},{"1":"6.9","2":"3.1","3":"5.4","4":"2.1","5":"virginica"},{"1":"6.7","2":"3.1","3":"5.6","4":"2.4","5":"virginica"},{"1":"6.9","2":"3.1","3":"5.1","4":"2.3","5":"virginica"},{"1":"5.8","2":"2.7","3":"5.1","4":"1.9","5":"virginica"},{"1":"6.8","2":"3.2","3":"5.9","4":"2.3","5":"virginica"},{"1":"6.7","2":"3.3","3":"5.7","4":"2.5","5":"virginica"},{"1":"6.7","2":"3.0","3":"5.2","4":"2.3","5":"virginica"},{"1":"6.3","2":"2.5","3":"5.0","4":"1.9","5":"virginica"},{"1":"6.5","2":"3.0","3":"5.2","4":"2.0","5":"virginica"},{"1":"6.2","2":"3.4","3":"5.4","4":"2.3","5":"virginica"},{"1":"5.9","2":"3.0","3":"5.1","4":"1.8","5":"virginica"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>О них точно также модно найти информацию в справке:</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="intro.html#cb211-1"></a>?mtcars</span>
<span id="cb211-2"><a href="intro.html#cb211-2"></a>?iris</span></code></pre></div>
<p>Элементы датафрейма – векторы – можно вызывать используя знак <code>$</code>:</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="intro.html#cb212-1"></a>moore_filmography<span class="op">$</span>year</span></code></pre></div>
<pre><code>## [1] 2009 2014 2014 2017 2020</code></pre>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb214-1"><a href="intro.html#cb214-1"></a>moore_filmography<span class="op">$</span>title</span></code></pre></div>
<pre><code>## [1] &quot;The Secret of Kells&quot;         &quot;Song of the Sea&quot;            
## [3] &quot;Kahlil Gibran&#39;s The Prophet&quot; &quot;The Breadwinner&quot;            
## [5] &quot;Wolfwalkers&quot;</code></pre>
<p>К существующему датафрейму можно добавить новый вектор:</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb216-1"><a href="intro.html#cb216-1"></a>moore_filmography<span class="op">$</span>producer &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">TRUE</span>)</span>
<span id="cb216-2"><a href="intro.html#cb216-2"></a>moore_filmography</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["title"],"name":[1],"type":["chr"],"align":["left"]},{"label":["year"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["director"],"name":[3],"type":["lgl"],"align":["right"]},{"label":["producer"],"name":[4],"type":["lgl"],"align":["right"]}],"data":[{"1":"The Secret of Kells","2":"2009","3":"TRUE","4":"TRUE"},{"1":"Song of the Sea","2":"2014","3":"TRUE","4":"TRUE"},{"1":"Kahlil Gibran's The Prophet","2":"2014","3":"TRUE","4":"FALSE"},{"1":"The Breadwinner","2":"2017","3":"FALSE","4":"TRUE"},{"1":"Wolfwalkers","2":"2020","3":"TRUE","4":"TRUE"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Существует масса полезных функций, которые говорят что-то о датафрейме:</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="intro.html#cb217-1"></a><span class="kw">nrow</span>(moore_filmography)</span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="intro.html#cb219-1"></a><span class="kw">ncol</span>(moore_filmography)</span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="intro.html#cb221-1"></a><span class="kw">summary</span>(moore_filmography)</span></code></pre></div>
<pre><code>##     title                year       director        producer      
##  Length:5           Min.   :2009   Mode :logical   Mode :logical  
##  Class :character   1st Qu.:2014   FALSE:1         FALSE:1        
##  Mode  :character   Median :2014   TRUE :4         TRUE :4        
##                     Mean   :2015                                  
##                     3rd Qu.:2017                                  
##                     Max.   :2020</code></pre>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="intro.html#cb223-1"></a><span class="kw">str</span>(moore_filmography)</span></code></pre></div>
<pre><code>## tibble [5 × 4] (S3: tbl_df/tbl/data.frame)
##  $ title   : chr [1:5] &quot;The Secret of Kells&quot; &quot;Song of the Sea&quot; &quot;Kahlil Gibran&#39;s The Prophet&quot; &quot;The Breadwinner&quot; ...
##  $ year    : num [1:5] 2009 2014 2014 2017 2020
##  $ director: logi [1:5] TRUE TRUE TRUE FALSE TRUE
##  $ producer: logi [1:5] TRUE TRUE FALSE TRUE TRUE</code></pre>
<p>Мы будем работать исключительно с датафреймами (однако, это не единственная структура данных в R).</p>
<div class="rmdtask">
<p>
Сколько строчек в датасете <code>iris</code>?
</p>
</div>
<form name="form_4652" onsubmit="return validate_form_4652()" method="post">
<input type="text" name="answer_4652"><br><input type="submit" value="check">
</form>
<p id="result_4652">
</p>
<script> function validate_form_4652() {var x, text; var x = document.forms["form_4652"]["answer_4652"].value;if (x == "150"){text = 'Correct';} else {text = 'I have a different answer';} document.getElementById('result_4652').innerHTML = text; return false;} </script>
<div class="rmdtask">
<p>
Сколько колонок в датасете <code>mtcars</code>?
</p>
</div>
<form name="form_76313" onsubmit="return validate_form_76313()" method="post">
<input type="text" name="answer_76313"><br><input type="submit" value="check">
</form>
<p id="result_76313">
</p>
<script> function validate_form_76313() {var x, text; var x = document.forms["form_76313"]["answer_76313"].value;if (x == "11"){text = 'Correct';} else {text = 'I have a different answer';} document.getElementById('result_76313').innerHTML = text; return false;} </script>
<div id="вызов-элементов-датафрейма" class="section level3">
<h3><span class="header-section-number">2.11.1</span> Вызов элементов датафрейма</h3>
<p>Датафрейм — двумерный объект, так что можно вызывать как его строчки, так и его колонки. Это делается при помощи квадратных скобок и индексов: первый отвечает за строчки, второй – за колонки:</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="intro.html#cb225-1"></a>moore_filmography[<span class="dv">3</span>, <span class="dv">2</span>]</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["year"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"2014"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb226-1"><a href="intro.html#cb226-1"></a>moore_filmography[<span class="dv">3</span>,]</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["title"],"name":[1],"type":["chr"],"align":["left"]},{"label":["year"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["director"],"name":[3],"type":["lgl"],"align":["right"]},{"label":["producer"],"name":[4],"type":["lgl"],"align":["right"]}],"data":[{"1":"Kahlil Gibran's The Prophet","2":"2014","3":"TRUE","4":"FALSE"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="intro.html#cb227-1"></a>moore_filmography[,<span class="dv">2</span>]</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["year"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"2009"},{"1":"2014"},{"1":"2014"},{"1":"2017"},{"1":"2020"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="intro.html#cb228-1"></a>moore_filmography[,<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["title"],"name":[1],"type":["chr"],"align":["left"]},{"label":["year"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"The Secret of Kells","2":"2009"},{"1":"Song of the Sea","2":"2014"},{"1":"Kahlil Gibran's The Prophet","2":"2014"},{"1":"The Breadwinner","2":"2017"},{"1":"Wolfwalkers","2":"2020"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="intro.html#cb229-1"></a>moore_filmography[,<span class="op">-</span><span class="dv">3</span>]</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["title"],"name":[1],"type":["chr"],"align":["left"]},{"label":["year"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["producer"],"name":[3],"type":["lgl"],"align":["right"]}],"data":[{"1":"The Secret of Kells","2":"2009","3":"TRUE"},{"1":"Song of the Sea","2":"2014","3":"TRUE"},{"1":"Kahlil Gibran's The Prophet","2":"2014","3":"FALSE"},{"1":"The Breadwinner","2":"2017","3":"TRUE"},{"1":"Wolfwalkers","2":"2020","3":"TRUE"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="intro.html#cb230-1"></a>moore_filmography[,<span class="op">-</span><span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>)]</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["director"],"name":[1],"type":["lgl"],"align":["right"]},{"label":["producer"],"name":[2],"type":["lgl"],"align":["right"]}],"data":[{"1":"TRUE","2":"TRUE"},{"1":"TRUE","2":"TRUE"},{"1":"TRUE","2":"FALSE"},{"1":"FALSE","2":"TRUE"},{"1":"TRUE","2":"TRUE"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="intro.html#cb231-1"></a>moore_filmography[,<span class="st">&quot;year&quot;</span>]</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["year"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"2009"},{"1":"2014"},{"1":"2014"},{"1":"2017"},{"1":"2020"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb232-1"><a href="intro.html#cb232-1"></a>moore_filmography[,<span class="kw">c</span>(<span class="st">&quot;title&quot;</span>, <span class="st">&quot;year&quot;</span>)]</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["title"],"name":[1],"type":["chr"],"align":["left"]},{"label":["year"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"The Secret of Kells","2":"2009"},{"1":"Song of the Sea","2":"2014"},{"1":"Kahlil Gibran's The Prophet","2":"2014"},{"1":"The Breadwinner","2":"2017"},{"1":"Wolfwalkers","2":"2020"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="intro.html#cb233-1"></a>moore_filmography[moore_filmography<span class="op">$</span>year <span class="op">&gt;</span><span class="st"> </span><span class="dv">2014</span>,]</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["title"],"name":[1],"type":["chr"],"align":["left"]},{"label":["year"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["director"],"name":[3],"type":["lgl"],"align":["right"]},{"label":["producer"],"name":[4],"type":["lgl"],"align":["right"]}],"data":[{"1":"The Breadwinner","2":"2017","3":"FALSE","4":"TRUE"},{"1":"Wolfwalkers","2":"2020","3":"TRUE","4":"TRUE"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div id="импорт-данных" class="section level2">
<h2><span class="header-section-number">2.12</span> Импорт данных</h2>
<div id="csv-файлы" class="section level3">
<h3><span class="header-section-number">2.12.1</span> <code>.csv</code> файлы</h3>
<p><code>.csv</code> файлы (comma-separated values) — это текст, разделенный запятыми (или другими разделителями, например, табуляцией или точкой с запятой) на отдельные значения. Его широко используют, так как его одинаково легко редактировать людям и парсить компьютерам. Вот датасет <code>moore_filmography</code> в формате <code>.csv</code>:</p>
<pre><code>title,year,director,producer
The Secret of Kells,2009,TRUE,TRUE
Song of the Sea,2014,TRUE,TRUE
Kahlil Gibran&#39;s The Prophet,2014,TRUE,FALSE
The Breadwinner,2017,FALSE,TRUE
Wolfwalkers,2020,TRUE,TRUE</code></pre>
<p>Давайте создадим переменную с этими данными:</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="intro.html#cb235-1"></a>our_csv &lt;-<span class="st"> &quot;title,year,director,producer</span></span>
<span id="cb235-2"><a href="intro.html#cb235-2"></a><span class="st">The Secret of Kells,2009,TRUE,TRUE</span></span>
<span id="cb235-3"><a href="intro.html#cb235-3"></a><span class="st">Song of the Sea,2014,TRUE,TRUE</span></span>
<span id="cb235-4"><a href="intro.html#cb235-4"></a><span class="st">Kahlil Gibran&#39;s The Prophet,2014,TRUE,FALSE</span></span>
<span id="cb235-5"><a href="intro.html#cb235-5"></a><span class="st">The Breadwinner,2017,FALSE,TRUE</span></span>
<span id="cb235-6"><a href="intro.html#cb235-6"></a><span class="st">Wolfwalkers,2020,TRUE,TRUE&quot;</span></span></code></pre></div>
<p>Теперь мы можем использовать функцию <code>read_csv()</code> (из <code>tidyverse</code>):</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="intro.html#cb236-1"></a><span class="kw">read_csv</span>(our_csv)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["title"],"name":[1],"type":["chr"],"align":["left"]},{"label":["year"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["director"],"name":[3],"type":["lgl"],"align":["right"]},{"label":["producer"],"name":[4],"type":["lgl"],"align":["right"]}],"data":[{"1":"The Secret of Kells","2":"2009","3":"TRUE","4":"TRUE"},{"1":"Song of the Sea","2":"2014","3":"TRUE","4":"TRUE"},{"1":"Kahlil Gibran's The Prophet","2":"2014","3":"TRUE","4":"FALSE"},{"1":"The Breadwinner","2":"2017","3":"FALSE","4":"TRUE"},{"1":"Wolfwalkers","2":"2020","3":"TRUE","4":"TRUE"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Так же вы можете загрузить файл с компьютера. Скачайте <a href="https://raw.githubusercontent.com/agricolamz/2020_HSE_ds4l_NN/master/data/moore_filmography.csv">этот</a> файл на компьютер (нажмите <code>Ctrl S</code> или <code>Cmd S</code>) и считайте его в:</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="intro.html#cb237-1"></a><span class="kw">read_csv</span>(<span class="st">&quot;C:/path/to/your/file/moore_filmography.csv&quot;</span>)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["title"],"name":[1],"type":["chr"],"align":["left"]},{"label":["year"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["director"],"name":[3],"type":["lgl"],"align":["right"]},{"label":["producer"],"name":[4],"type":["lgl"],"align":["right"]}],"data":[{"1":"The Secret of Kells","2":"2009","3":"TRUE","4":"TRUE"},{"1":"Song of the Sea","2":"2014","3":"TRUE","4":"TRUE"},{"1":"Kahlil Gibran's The Prophet","2":"2014","3":"TRUE","4":"FALSE"},{"1":"The Breadwinner","2":"2017","3":"FALSE","4":"TRUE"},{"1":"Wolfwalkers","2":"2020","3":"TRUE","4":"TRUE"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Еще файл можно скачать непосредственно из интернета:</p>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="intro.html#cb238-1"></a><span class="kw">read_csv</span>(<span class="st">&quot;https://raw.githubusercontent.com/agricolamz/2020_HSE_ds4l_NN/master/data/moore_filmography.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   title = col_character(),
##   year = col_double(),
##   director = col_logical(),
##   producer = col_logical()
## )</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["title"],"name":[1],"type":["chr"],"align":["left"]},{"label":["year"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["director"],"name":[3],"type":["lgl"],"align":["right"]},{"label":["producer"],"name":[4],"type":["lgl"],"align":["right"]}],"data":[{"1":"The Secret of Kells","2":"2009","3":"TRUE","4":"TRUE"},{"1":"Song of the Sea","2":"2014","3":"TRUE","4":"TRUE"},{"1":"Kahlil Gibran's The Prophet","2":"2014","3":"TRUE","4":"FALSE"},{"1":"The Breadwinner","2":"2017","3":"FALSE","4":"TRUE"},{"1":"Wolfwalkers","2":"2020","3":"TRUE","4":"TRUE"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="rmdtask">
<p>
Из-за пандемии про Ухань говорили во всех новостях. <a href="https://nplus1.ru/blog/2020/02/03/wuhan">По-русски</a> по каким-то причинам этот город носители относят то к мужскому роду, то к женскому. Я посмотрел на другие славянские языки и записал полученные данные в <a href="https://gist.githubusercontent.com/agricolamz/c280527d6b5d79693b85d8fcf8d35bc3/raw/c46a32a218bc5d6933703ae677b81ff5a4a1dcaa/wuhan.csv"><code>.csv</code> file</a>. Скачайте датасет в R. Какие там переменные?
</p>
</div>
<p>Все операции с файлами в R как-то связаны с памятью вашего компьютера. Чтобы узнать папку, в которой R находится, можно запустить команду <code>getwd()</code>. Рабочую дерикторию можно поменять, используя функцию <code>setwd()</code>. Если файл, с которым Вы хотите работать находится в рабочей дериктории, то нет нужды писать полный путь к файлу:</p>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="intro.html#cb240-1"></a><span class="kw">read_csv</span>(<span class="st">&quot;moore_filmography.csv&quot;</span>)</span></code></pre></div>
<p>Кроме того, естественно, в R существует функция, которая позволяет записывать <code>.csv</code>:</p>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb241-1"><a href="intro.html#cb241-1"></a><span class="kw">write_csv</span>(moore_filmography, <span class="st">&quot;moore_filmography_v2.csv&quot;</span>)</span></code></pre></div>
<p>Иногда чтение <code>.csv</code> файлов в Microsoft Excel вызывает какие-то трудности, посмотрите <a href="https://www.thewindowsclub.com/how-to-convert-a-text-txt-csv-file-into-an-excel-file">инструкции</a>, если у кого-то возникнут похожие проблемы.</p>
</div>
<div id="файлы-.xls-и-.xlsx" class="section level3">
<h3><span class="header-section-number">2.12.2</span> файлы <code>.xls</code> и <code>.xlsx</code></h3>
<p>Для чтения файлов <code>.xsl</code> and <code>.xslx</code> существует пакет <code>readxl</code>. Установите и загрузите библиотеку:</p>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="intro.html#cb242-1"></a><span class="kw">library</span>(readxl)</span></code></pre></div>
<p>Вот <a href="https://github.com/agricolamz/2020.02_Naumburg_R/raw/master/data/moore_filmography.xlsx">тестовый файл</a>. Скачайте его к себе на компьютер, положите в рабочую дерикторию и загрузите в R:</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb243-1"><a href="intro.html#cb243-1"></a><span class="kw">read_xlsx</span>(<span class="st">&quot;moore_filmography.xlsx&quot;</span>)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["title"],"name":[1],"type":["chr"],"align":["left"]},{"label":["year"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["director"],"name":[3],"type":["chr"],"align":["left"]},{"label":["producer"],"name":[4],"type":["chr"],"align":["left"]}],"data":[{"1":"The Secret of Kells","2":"2009","3":"TRUE","4":"TRUE"},{"1":"Song of the Sea","2":"2014","3":"TRUE","4":"TRUE"},{"1":"Kahlil Gibran's The Prophet","2":"2014","3":"TRUE","4":"FALSE"},{"1":"The Breadwinner","2":"2017","3":"FALSE","4":"TRUE"},{"1":"Wolfwalkers","2":"2020","3":"TRUE","4":"TRUE"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p><code>.xls</code> и <code>.xlsx</code> могут иметь разные таблиц на разных листах:</p>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb244-1"><a href="intro.html#cb244-1"></a><span class="kw">read_xlsx</span>(<span class="st">&quot;moore_filmography.xlsx&quot;</span>, <span class="dt">sheet =</span> <span class="st">&quot;iris&quot;</span>)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Sepal.Length"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Sepal.Width"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Petal.Length"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Petal.Width"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Species"],"name":[5],"type":["chr"],"align":["left"]}],"data":[{"1":"5.1","2":"3.5","3":"1.4","4":"0.2","5":"setosa"},{"1":"4.9","2":"3.0","3":"1.4","4":"0.2","5":"setosa"},{"1":"4.7","2":"3.2","3":"1.3","4":"0.2","5":"setosa"},{"1":"4.6","2":"3.1","3":"1.5","4":"0.2","5":"setosa"},{"1":"5.0","2":"3.6","3":"1.4","4":"0.2","5":"setosa"},{"1":"5.4","2":"3.9","3":"1.7","4":"0.4","5":"setosa"},{"1":"4.6","2":"3.4","3":"1.4","4":"0.3","5":"setosa"},{"1":"5.0","2":"3.4","3":"1.5","4":"0.2","5":"setosa"},{"1":"4.4","2":"2.9","3":"1.4","4":"0.2","5":"setosa"},{"1":"4.9","2":"3.1","3":"1.5","4":"0.1","5":"setosa"},{"1":"5.4","2":"3.7","3":"1.5","4":"0.2","5":"setosa"},{"1":"4.8","2":"3.4","3":"1.6","4":"0.2","5":"setosa"},{"1":"4.8","2":"3.0","3":"1.4","4":"0.1","5":"setosa"},{"1":"4.3","2":"3.0","3":"1.1","4":"0.1","5":"setosa"},{"1":"5.8","2":"4.0","3":"1.2","4":"0.2","5":"setosa"},{"1":"5.7","2":"4.4","3":"1.5","4":"0.4","5":"setosa"},{"1":"5.4","2":"3.9","3":"1.3","4":"0.4","5":"setosa"},{"1":"5.1","2":"3.5","3":"1.4","4":"0.3","5":"setosa"},{"1":"5.7","2":"3.8","3":"1.7","4":"0.3","5":"setosa"},{"1":"5.1","2":"3.8","3":"1.5","4":"0.3","5":"setosa"},{"1":"5.4","2":"3.4","3":"1.7","4":"0.2","5":"setosa"},{"1":"5.1","2":"3.7","3":"1.5","4":"0.4","5":"setosa"},{"1":"4.6","2":"3.6","3":"1.0","4":"0.2","5":"setosa"},{"1":"5.1","2":"3.3","3":"1.7","4":"0.5","5":"setosa"},{"1":"4.8","2":"3.4","3":"1.9","4":"0.2","5":"setosa"},{"1":"5.0","2":"3.0","3":"1.6","4":"0.2","5":"setosa"},{"1":"5.0","2":"3.4","3":"1.6","4":"0.4","5":"setosa"},{"1":"5.2","2":"3.5","3":"1.5","4":"0.2","5":"setosa"},{"1":"5.2","2":"3.4","3":"1.4","4":"0.2","5":"setosa"},{"1":"4.7","2":"3.2","3":"1.6","4":"0.2","5":"setosa"},{"1":"4.8","2":"3.1","3":"1.6","4":"0.2","5":"setosa"},{"1":"5.4","2":"3.4","3":"1.5","4":"0.4","5":"setosa"},{"1":"5.2","2":"4.1","3":"1.5","4":"0.1","5":"setosa"},{"1":"5.5","2":"4.2","3":"1.4","4":"0.2","5":"setosa"},{"1":"4.9","2":"3.1","3":"1.5","4":"0.2","5":"setosa"},{"1":"5.0","2":"3.2","3":"1.2","4":"0.2","5":"setosa"},{"1":"5.5","2":"3.5","3":"1.3","4":"0.2","5":"setosa"},{"1":"4.9","2":"3.6","3":"1.4","4":"0.1","5":"setosa"},{"1":"4.4","2":"3.0","3":"1.3","4":"0.2","5":"setosa"},{"1":"5.1","2":"3.4","3":"1.5","4":"0.2","5":"setosa"},{"1":"5.0","2":"3.5","3":"1.3","4":"0.3","5":"setosa"},{"1":"4.5","2":"2.3","3":"1.3","4":"0.3","5":"setosa"},{"1":"4.4","2":"3.2","3":"1.3","4":"0.2","5":"setosa"},{"1":"5.0","2":"3.5","3":"1.6","4":"0.6","5":"setosa"},{"1":"5.1","2":"3.8","3":"1.9","4":"0.4","5":"setosa"},{"1":"4.8","2":"3.0","3":"1.4","4":"0.3","5":"setosa"},{"1":"5.1","2":"3.8","3":"1.6","4":"0.2","5":"setosa"},{"1":"4.6","2":"3.2","3":"1.4","4":"0.2","5":"setosa"},{"1":"5.3","2":"3.7","3":"1.5","4":"0.2","5":"setosa"},{"1":"5.0","2":"3.3","3":"1.4","4":"0.2","5":"setosa"},{"1":"7.0","2":"3.2","3":"4.7","4":"1.4","5":"versicolor"},{"1":"6.4","2":"3.2","3":"4.5","4":"1.5","5":"versicolor"},{"1":"6.9","2":"3.1","3":"4.9","4":"1.5","5":"versicolor"},{"1":"5.5","2":"2.3","3":"4.0","4":"1.3","5":"versicolor"},{"1":"6.5","2":"2.8","3":"4.6","4":"1.5","5":"versicolor"},{"1":"5.7","2":"2.8","3":"4.5","4":"1.3","5":"versicolor"},{"1":"6.3","2":"3.3","3":"4.7","4":"1.6","5":"versicolor"},{"1":"4.9","2":"2.4","3":"3.3","4":"1.0","5":"versicolor"},{"1":"6.6","2":"2.9","3":"4.6","4":"1.3","5":"versicolor"},{"1":"5.2","2":"2.7","3":"3.9","4":"1.4","5":"versicolor"},{"1":"5.0","2":"2.0","3":"3.5","4":"1.0","5":"versicolor"},{"1":"5.9","2":"3.0","3":"4.2","4":"1.5","5":"versicolor"},{"1":"6.0","2":"2.2","3":"4.0","4":"1.0","5":"versicolor"},{"1":"6.1","2":"2.9","3":"4.7","4":"1.4","5":"versicolor"},{"1":"5.6","2":"2.9","3":"3.6","4":"1.3","5":"versicolor"},{"1":"6.7","2":"3.1","3":"4.4","4":"1.4","5":"versicolor"},{"1":"5.6","2":"3.0","3":"4.5","4":"1.5","5":"versicolor"},{"1":"5.8","2":"2.7","3":"4.1","4":"1.0","5":"versicolor"},{"1":"6.2","2":"2.2","3":"4.5","4":"1.5","5":"versicolor"},{"1":"5.6","2":"2.5","3":"3.9","4":"1.1","5":"versicolor"},{"1":"5.9","2":"3.2","3":"4.8","4":"1.8","5":"versicolor"},{"1":"6.1","2":"2.8","3":"4.0","4":"1.3","5":"versicolor"},{"1":"6.3","2":"2.5","3":"4.9","4":"1.5","5":"versicolor"},{"1":"6.1","2":"2.8","3":"4.7","4":"1.2","5":"versicolor"},{"1":"6.4","2":"2.9","3":"4.3","4":"1.3","5":"versicolor"},{"1":"6.6","2":"3.0","3":"4.4","4":"1.4","5":"versicolor"},{"1":"6.8","2":"2.8","3":"4.8","4":"1.4","5":"versicolor"},{"1":"6.7","2":"3.0","3":"5.0","4":"1.7","5":"versicolor"},{"1":"6.0","2":"2.9","3":"4.5","4":"1.5","5":"versicolor"},{"1":"5.7","2":"2.6","3":"3.5","4":"1.0","5":"versicolor"},{"1":"5.5","2":"2.4","3":"3.8","4":"1.1","5":"versicolor"},{"1":"5.5","2":"2.4","3":"3.7","4":"1.0","5":"versicolor"},{"1":"5.8","2":"2.7","3":"3.9","4":"1.2","5":"versicolor"},{"1":"6.0","2":"2.7","3":"5.1","4":"1.6","5":"versicolor"},{"1":"5.4","2":"3.0","3":"4.5","4":"1.5","5":"versicolor"},{"1":"6.0","2":"3.4","3":"4.5","4":"1.6","5":"versicolor"},{"1":"6.7","2":"3.1","3":"4.7","4":"1.5","5":"versicolor"},{"1":"6.3","2":"2.3","3":"4.4","4":"1.3","5":"versicolor"},{"1":"5.6","2":"3.0","3":"4.1","4":"1.3","5":"versicolor"},{"1":"5.5","2":"2.5","3":"4.0","4":"1.3","5":"versicolor"},{"1":"5.5","2":"2.6","3":"4.4","4":"1.2","5":"versicolor"},{"1":"6.1","2":"3.0","3":"4.6","4":"1.4","5":"versicolor"},{"1":"5.8","2":"2.6","3":"4.0","4":"1.2","5":"versicolor"},{"1":"5.0","2":"2.3","3":"3.3","4":"1.0","5":"versicolor"},{"1":"5.6","2":"2.7","3":"4.2","4":"1.3","5":"versicolor"},{"1":"5.7","2":"3.0","3":"4.2","4":"1.2","5":"versicolor"},{"1":"5.7","2":"2.9","3":"4.2","4":"1.3","5":"versicolor"},{"1":"6.2","2":"2.9","3":"4.3","4":"1.3","5":"versicolor"},{"1":"5.1","2":"2.5","3":"3.0","4":"1.1","5":"versicolor"},{"1":"5.7","2":"2.8","3":"4.1","4":"1.3","5":"versicolor"},{"1":"6.3","2":"3.3","3":"6.0","4":"2.5","5":"virginica"},{"1":"5.8","2":"2.7","3":"5.1","4":"1.9","5":"virginica"},{"1":"7.1","2":"3.0","3":"5.9","4":"2.1","5":"virginica"},{"1":"6.3","2":"2.9","3":"5.6","4":"1.8","5":"virginica"},{"1":"6.5","2":"3.0","3":"5.8","4":"2.2","5":"virginica"},{"1":"7.6","2":"3.0","3":"6.6","4":"2.1","5":"virginica"},{"1":"4.9","2":"2.5","3":"4.5","4":"1.7","5":"virginica"},{"1":"7.3","2":"2.9","3":"6.3","4":"1.8","5":"virginica"},{"1":"6.7","2":"2.5","3":"5.8","4":"1.8","5":"virginica"},{"1":"7.2","2":"3.6","3":"6.1","4":"2.5","5":"virginica"},{"1":"6.5","2":"3.2","3":"5.1","4":"2.0","5":"virginica"},{"1":"6.4","2":"2.7","3":"5.3","4":"1.9","5":"virginica"},{"1":"6.8","2":"3.0","3":"5.5","4":"2.1","5":"virginica"},{"1":"5.7","2":"2.5","3":"5.0","4":"2.0","5":"virginica"},{"1":"5.8","2":"2.8","3":"5.1","4":"2.4","5":"virginica"},{"1":"6.4","2":"3.2","3":"5.3","4":"2.3","5":"virginica"},{"1":"6.5","2":"3.0","3":"5.5","4":"1.8","5":"virginica"},{"1":"7.7","2":"3.8","3":"6.7","4":"2.2","5":"virginica"},{"1":"7.7","2":"2.6","3":"6.9","4":"2.3","5":"virginica"},{"1":"6.0","2":"2.2","3":"5.0","4":"1.5","5":"virginica"},{"1":"6.9","2":"3.2","3":"5.7","4":"2.3","5":"virginica"},{"1":"5.6","2":"2.8","3":"4.9","4":"2.0","5":"virginica"},{"1":"7.7","2":"2.8","3":"6.7","4":"2.0","5":"virginica"},{"1":"6.3","2":"2.7","3":"4.9","4":"1.8","5":"virginica"},{"1":"6.7","2":"3.3","3":"5.7","4":"2.1","5":"virginica"},{"1":"7.2","2":"3.2","3":"6.0","4":"1.8","5":"virginica"},{"1":"6.2","2":"2.8","3":"4.8","4":"1.8","5":"virginica"},{"1":"6.1","2":"3.0","3":"4.9","4":"1.8","5":"virginica"},{"1":"6.4","2":"2.8","3":"5.6","4":"2.1","5":"virginica"},{"1":"7.2","2":"3.0","3":"5.8","4":"1.6","5":"virginica"},{"1":"7.4","2":"2.8","3":"6.1","4":"1.9","5":"virginica"},{"1":"7.9","2":"3.8","3":"6.4","4":"2.0","5":"virginica"},{"1":"6.4","2":"2.8","3":"5.6","4":"2.2","5":"virginica"},{"1":"6.3","2":"2.8","3":"5.1","4":"1.5","5":"virginica"},{"1":"6.1","2":"2.6","3":"5.6","4":"1.4","5":"virginica"},{"1":"7.7","2":"3.0","3":"6.1","4":"2.3","5":"virginica"},{"1":"6.3","2":"3.4","3":"5.6","4":"2.4","5":"virginica"},{"1":"6.4","2":"3.1","3":"5.5","4":"1.8","5":"virginica"},{"1":"6.0","2":"3.0","3":"4.8","4":"1.8","5":"virginica"},{"1":"6.9","2":"3.1","3":"5.4","4":"2.1","5":"virginica"},{"1":"6.7","2":"3.1","3":"5.6","4":"2.4","5":"virginica"},{"1":"6.9","2":"3.1","3":"5.1","4":"2.3","5":"virginica"},{"1":"5.8","2":"2.7","3":"5.1","4":"1.9","5":"virginica"},{"1":"6.8","2":"3.2","3":"5.9","4":"2.3","5":"virginica"},{"1":"6.7","2":"3.3","3":"5.7","4":"2.5","5":"virginica"},{"1":"6.7","2":"3.0","3":"5.2","4":"2.3","5":"virginica"},{"1":"6.3","2":"2.5","3":"5.0","4":"1.9","5":"virginica"},{"1":"6.5","2":"3.0","3":"5.2","4":"2.0","5":"virginica"},{"1":"6.2","2":"3.4","3":"5.4","4":"2.3","5":"virginica"},{"1":"5.9","2":"3.0","3":"5.1","4":"1.8","5":"virginica"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>

</div>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-baesens15">
<p>Baesens, Bart, Veronique Van Vlasselaer, and Wouter Verbeke. 2015. <em>Fraud Analytics Using Descriptive, Predictive, and Social Network Techniques: A Guide to Data Science for Fraud Detection</em>. John Wiley &amp; Sons.</p>
</div>
<div id="ref-bezanson17">
<p>Bezanson, Jeff, Alan Edelman, Stefan Karpinski, and Viral B Shah. 2017. “Julia: A Fresh Approach to Numerical Computing.” <em>SIAM Review</em> 59 (1): 65–98.</p>
</div>
<div id="ref-brooks13">
<p>Brooks, Harvey, and Chester L Cooper. 2013. <em>Science for Public Policy</em>. Elsevier.</p>
</div>
<div id="ref-brzustowicz17">
<p>Brzustowicz, Michael R. 2017. <em>Data Science with Java: Practical Methods for Scientists and Engineers</em>. O’Reilly Media, Inc.</p>
</div>
<div id="ref-grus19">
<p>Grus, Joel. 2019. <em>Data Science from Scratch: First Principles with Python</em>. O’Reilly Media, Inc.</p>
</div>
<div id="ref-hansjoerg19">
<p>Hansjörg, Neth. 2019. <em>Data Science for Psychologists</em>. self published.</p>
</div>
<div id="ref-janssens14">
<p>Janssens, Jeroen. 2014. <em>Data Science at the Command Line: Facing the Future with Time-Tested Tools</em>. O’Reilly Media, Inc.</p>
</div>
<div id="ref-provost13">
<p>Provost, Foster, and Tom Fawcett. 2013. <em>Data Science for Business: What You Need to Know About Data Mining and Data-Analytic Thinking</em>. O’Reilly Media, Inc.</p>
</div>
<div id="ref-r19">
<p>R Core Team. 2019. <em>R: A Language and Environment for Statistical Computing</em>. Vienna, Austria: R Foundation for Statistical Computing. <a href="https://www.R-project.org/">https://www.R-project.org/</a>.</p>
</div>
<div id="ref-thomas19">
<p>Thomas, Niclas, and Laura Pallett. 2019. <em>Data Science for Immunologists</em>. CreateSpace Independent Publishing Platform.</p>
</div>
<div id="ref-vanderplas16">
<p>VanderPlas, Jake. 2016. <em>Python Data Science Handbook: Essential Tools for Working with Data</em>. O’Reilly Media, Inc.</p>
</div>
<div id="ref-wickham16">
<p>Wickham, Hadley. 2016. <em>Ggplot2: Elegant Graphics for Data Analysis</em>. Springer-Verlag New York. <a href="https://ggplot2.tidyverse.org">https://ggplot2.tidyverse.org</a>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="трансформация-данных-с-dplyr-и-tidyr.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/agricolamz/2020_HSE_ds4l_NN/edit/master/01-intro.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
},
"self_contained": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
